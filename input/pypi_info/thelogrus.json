{"info":{"author":"Joe Block","author_email":"jpb@unixorn.net","bugtrack_url":null,"classifiers":["License :: Other/Proprietary License","Programming Language :: Python :: 3","Programming Language :: Python :: 3.10","Programming Language :: Python :: 3.6","Programming Language :: Python :: 3.7","Programming Language :: Python :: 3.8","Programming Language :: Python :: 3.9"],"description":"# logrus\n\n[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)\n[![GitHub stars](https://img.shields.io/github/stars/unixorn/thelogrus.svg)](https://github.com/unixorn/thelogrus/stargazers)\n[![Code Climate](https://codeclimate.com/github/unixorn/thelogrus/badges/gpa.svg)](https://codeclimate.com/github/unixorn/thelogrus)\n[![Issue Count](https://codeclimate.com/github/unixorn/thelogrus/badges/issue_count.svg)](https://codeclimate.com/github/unixorn/thelogrus)\n\n<!-- START doctoc generated TOC please keep comment here to allow auto update -->\n<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->\n## Table of Contents\n\n- [Installation](#installation)\n- [License](#license)\n- [Included Commands](#included-commands)\n  - [human-time](#human-time)\n- [Included functions](#included-functions)\n  - [thelogrus.cli](#thelogruscli)\n    - [exec_subcommand(unfound)](#exec_subcommandunfound)\n    - [find_subcommand(args)](#find_subcommandargs)\n    - [is_program(name)](#is_programname)\n    - [run(command)](#runcommand)\n  - [thelogrus.logging](#thelogruslogging)\n    - [getCustomLogger(name, logLevel)](#getcustomloggername-loglevel)\n  - [thelogrus.time](#thelogrustime)\n    - [humanTime(seconds)](#humantimeseconds)\n  - [thelogrus.utils](#thelogrusutils)\n    - [mkdir_p(path)](#mkdir_ppath)\n    - [obfuscateString(snippet, showLength=5, smear='*')](#obfuscatestringsnippet-showlength5-smear)\n    - [squashDicts(*dict_args)](#squashdictsdict_args)\n  - [thelogrus.yaml](#thelogrusyaml)\n    - [readYamlFile(path: str)](#readyamlfilepath-str)\n    - [writeYamlFile(path: str, data)](#writeyamlfilepath-str-data)\n\n<!-- END doctoc generated TOC please keep comment here to allow auto update -->\n\nThe logrus is a collection of random utility functions. Nothing in here is all that special, they're just yet another implementation of functions I've rewritten at every job to use in various utility scripts. By open sourcing them now, I'm hoping to not have to write them yet again.\n\nAnd yes, the name is from Zelazny's Amber series.\n\n## Installation\n\n`pip install thelogrus`\n\n## License\n\nApache 2.0 license.\n\n## Included Commands\n\n### human-time\n\nTakes a value in seconds either from stdin or as arg 1 and converts it to a more meat-friendly format using the `humanTime` function.\n\n`human-time 1234` will print \"20 minutes, 34 seconds\"\n\n## Included functions\n\n### thelogrus.cli\n\n#### exec_subcommand(unfound)\n\nCreates a `git`-style driver command. If your script is named `foo`, and is run as `foo bar baz` and there is an executable in your `$PATH` named `foo-bar`, it will call `foo-bar` with `baz` as the command-line argument.\n\n`unfound` is an optional argument that should be a function pointer and will be called if `exec_subcommand` can't find a suitable subcommand. Mainly useful for you to have a custom usage message.\n\nExample usage:\n\n```python\n#!/usr/bin/env python3\n#\n# Test script for thelogrus\n#\n# Confirms that thelogrus.cli.exec_subcommand works as expected\n#\n# Copyright 2019, Joe Block <jpb@unixorn.net>\n\nimport sys\nfrom thelogrus.cli import exec_subcommand\n\n\ndef _usage(message):\n  '''\n  Custom usage printer\n  '''\n  print(\"%s\" % sys.argv[0])\n  print(\"Called as %s\" % (' '.join(sys.argv)))\n  print(\"Oh look, a custom usage message.\")\n  print(\"Attempted to find an executable using all the permutations of %s with no luck.\" % '-'.join(sys.argv))\n  print(\"%s\" % message)\n\n\nif __name__ == '__main__':\n  exec_subcommand(unfound=_usage)\n```\n\n#### find_subcommand(args)\n\nGiven a list ['foo','bar', 'baz'], attempts to create a command name in the format `foo-bar-baz`. If that command exists, we run it. If it doesn't, we check to see if `foo-bar` exists, in which case we run `foo-bar baz`. We keep slicing chunks off the end of the command name and adding them to the argument list until we find a valid command name we can run.\n\nThis allows us to easily make git-style command drivers where for example we have a driver script, `foo`, and subcommand scripts `foo-bar` and `foo-baz`, and when the user types `foo bar foobar` we find the foo-bar script and run it as `foo-bar foobar`\n\nExample usage:\n\n```python\n#!/usr/bin/env python3\n\nimport os\nimport subprocess\nimport sys\nfrom thelogrus.cli import find_subcommand\n\n\ndef subcommander_driver():\n  '''\n  Process the command line arguments and run the appropriate subcommand.\n\n  We want to be able to do git-style handoffs to subcommands where if we\n  do `foo blah foo bar` and the executable foo-blah-foo exists, we'll call\n  it with the argument bar.\n\n  We deliberately don't do anything with the arguments other than hand\n  them off to the foo subcommand. Subcommands are responsible for their\n  own argument parsing.\n  '''\n  try:\n    (command, args) = find_subcommand(sys.argv)\n\n    # If we can't construct a subcommand from sys.argv, it'll still be able\n    # to find this driver script, and re-running ourself isn't useful.\n    if os.path.basename(command) == sys.argv[0]:\n      print(\"Could not find a subcommand for %s\" % ' '.join(sys.argv))\n      sys.exit(1)\n  except Exception as e:\n    print(str(e))\n    sys.exit(1)\n  subprocess.check_call([command] + args)\n\n\nif __name__ == '__main__':\n  subcommander_driver()\n```\n\n#### is_program(name)\n\nSearch for a given program in `$PATH`, and return `True` if it exists and is executable.\n\n#### run(command)\n\nRuns a command (either a str or list) and returns its `stdout`.\n\n### thelogrus.logging\n\n#### getCustomLogger(name, logLevel)\n\nReturns a custom logger with nicely formatted output.\n\n### thelogrus.time\n\n#### humanTime(seconds)\n\nTakes a value in seconds, returns it in meat-friendly format. `humanFriendlyTime(8675309)` would return \"100 days 9 hours 48 minutes 29 seconds\".\n\n### thelogrus.utils\n\n#### mkdir_p(path)\n\nos module doesn't have a `mkdir -p` equivalent so added one.\n\n#### obfuscateString(snippet, showLength=5, smear='*')\n\nTakes a string, chops off showLength characters from the beginning and end and replaces everything else with the `smear` character. Really only useful for displaying just enough of a credential in a log to show it's using the correct credential, but not revealing the actual credential.\n\n#### squashDicts(*dict_args)\n\nReturn a dict that is all the dict_args squashed together.\n\n### thelogrus.yaml\n\n#### readYamlFile(path: str)\n\nReturn the data structure contained in a YAML file\n\nArgs:\n    path (str): Path to read from\n\nReturns:\n    Data decoded from YAML file content\n\n#### writeYamlFile(path: str, data)\n\nWrites a data structure or object into a YAML file\n\nArgs:\n    path (str): Path to data file\n    data (any): Data to convert and write\n","description_content_type":"text/markdown","docs_url":null,"download_url":"","downloads":{"last_day":-1,"last_month":-1,"last_week":-1},"dynamic":null,"home_page":"https://github.com/unixorn/thelogrus","keywords":"","license":"Apache 2.0","maintainer":"","maintainer_email":"","name":"thelogrus","package_url":"https://pypi.org/project/thelogrus/","platform":null,"project_url":"https://pypi.org/project/thelogrus/","project_urls":{"Bug Tracker":"https://github.com/unixorn/thelogrus/issues","Homepage":"https://github.com/unixorn/thelogrus","Repository":"https://github.com/unixorn/thelogrus"},"provides_extra":null,"release_url":"https://pypi.org/project/thelogrus/0.7.0/","requires_dist":["pyaml (>=21.10.1,<22.0.0)","dateutils (>=0.6.12,<0.7.0)"],"requires_python":">=3.6,<4.0","summary":"The Logrus is a collection of random utility functions","version":"0.7.0","yanked":false,"yanked_reason":null},"last_serial":15514116,"releases":{"0.3.48":[{"comment_text":"","digests":{"blake2b_256":"e2407c2ad42526b63079957fdd77898b18b711806550c9a9b4c29f70095e393c","md5":"79a08431709dd2396d51dec0fa388449","sha256":"9a579c40164456738bc596a2026a8116909669e71a80f852bb7209bca141c778"},"downloads":-1,"filename":"thelogrus-0.3.48-py3-none-any.whl","has_sig":false,"md5_digest":"79a08431709dd2396d51dec0fa388449","packagetype":"bdist_wheel","python_version":"py3","requires_python":null,"size":15603,"upload_time":"2020-03-10T22:02:03","upload_time_iso_8601":"2020-03-10T22:02:03.358820Z","url":"https://files.pythonhosted.org/packages/e2/40/7c2ad42526b63079957fdd77898b18b711806550c9a9b4c29f70095e393c/thelogrus-0.3.48-py3-none-any.whl","yanked":false,"yanked_reason":null}],"0.3.59":[{"comment_text":"","digests":{"blake2b_256":"369df7d6a4cc8348bdfcfb3f63e11bcb471bbda1d50ee6a756ceafe2b5acf3b7","md5":"b7b9e427f04435106fa80056d8dbe53a","sha256":"9cc07290f443a7d36488b7b84b3199cdb7a7069176e85d68ac1fdc741f11cfd4"},"downloads":-1,"filename":"thelogrus-0.3.59-py3-none-any.whl","has_sig":false,"md5_digest":"b7b9e427f04435106fa80056d8dbe53a","packagetype":"bdist_wheel","python_version":"py3","requires_python":null,"size":15612,"upload_time":"2020-03-15T20:14:09","upload_time_iso_8601":"2020-03-15T20:14:09.838383Z","url":"https://files.pythonhosted.org/packages/36/9d/f7d6a4cc8348bdfcfb3f63e11bcb471bbda1d50ee6a756ceafe2b5acf3b7/thelogrus-0.3.59-py3-none-any.whl","yanked":false,"yanked_reason":null}],"0.6.1":[{"comment_text":"","digests":{"blake2b_256":"8e28bb2a409af702dedb4be12415d16be94a88fadeb0db7db7062e52bce25443","md5":"f633f4a3cc6bc7fd9f5138abad171aca","sha256":"ce34e6457b97edaa0d6946d65cc8dd073d1e197e8e048bd7ed01bdf20553ad6a"},"downloads":-1,"filename":"thelogrus-0.6.1-py3-none-any.whl","has_sig":false,"md5_digest":"f633f4a3cc6bc7fd9f5138abad171aca","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.9,<4.0","size":18364,"upload_time":"2022-02-08T04:26:36","upload_time_iso_8601":"2022-02-08T04:26:36.774333Z","url":"https://files.pythonhosted.org/packages/8e/28/bb2a409af702dedb4be12415d16be94a88fadeb0db7db7062e52bce25443/thelogrus-0.6.1-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"4f30faa247908face01b6ce132c757dbae12930bcc0122a54525db3883563661","md5":"ae8750a30356e71641356a537a5d11c0","sha256":"4ea017ceed46c887884241662b09b16817cfde491bec9af1114482e3e8d5c290"},"downloads":-1,"filename":"thelogrus-0.6.1.tar.gz","has_sig":false,"md5_digest":"ae8750a30356e71641356a537a5d11c0","packagetype":"sdist","python_version":"source","requires_python":">=3.9,<4.0","size":12938,"upload_time":"2022-02-08T04:26:38","upload_time_iso_8601":"2022-02-08T04:26:38.021656Z","url":"https://files.pythonhosted.org/packages/4f/30/faa247908face01b6ce132c757dbae12930bcc0122a54525db3883563661/thelogrus-0.6.1.tar.gz","yanked":false,"yanked_reason":null}],"0.6.2":[{"comment_text":"","digests":{"blake2b_256":"ba2b8b4555e6e02dc8a7aa1cf8ee4dc603c8bf4ae14d2894838101c596ab71b3","md5":"98fb5751c16367a524dee8ea76352563","sha256":"23adf615671e2c55fe7fc799e66138d94e8c9c6d83502b50d4ec8d9e7ea058d2"},"downloads":-1,"filename":"thelogrus-0.6.2-py3-none-any.whl","has_sig":false,"md5_digest":"98fb5751c16367a524dee8ea76352563","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.9,<4.0","size":12281,"upload_time":"2022-02-08T15:39:16","upload_time_iso_8601":"2022-02-08T15:39:16.905617Z","url":"https://files.pythonhosted.org/packages/ba/2b/8b4555e6e02dc8a7aa1cf8ee4dc603c8bf4ae14d2894838101c596ab71b3/thelogrus-0.6.2-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"44ed400d3885e607533a315028f93e4938fff70e04b70609b30c0d77b1ef9547","md5":"b9f785ea9dd8fb8537495438b1db42ad","sha256":"2f87c5d60145de2a60a1b163a2688a6a280f6682cc87259fc9eed4e1516ee300"},"downloads":-1,"filename":"thelogrus-0.6.2.tar.gz","has_sig":false,"md5_digest":"b9f785ea9dd8fb8537495438b1db42ad","packagetype":"sdist","python_version":"source","requires_python":">=3.9,<4.0","size":8638,"upload_time":"2022-02-08T15:39:18","upload_time_iso_8601":"2022-02-08T15:39:18.603358Z","url":"https://files.pythonhosted.org/packages/44/ed/400d3885e607533a315028f93e4938fff70e04b70609b30c0d77b1ef9547/thelogrus-0.6.2.tar.gz","yanked":false,"yanked_reason":null}],"0.6.3":[{"comment_text":"","digests":{"blake2b_256":"05b6459c588406a4ac80a38d4859b078b9fc9c2b897a0ea22fa075ad063189fc","md5":"111c4f6d04569c52fd81c7618119c9c4","sha256":"3782bd5638c2651b0ccd17c04ff1edf8e3dbe0a56e4ff6b01b7051e3534eaa31"},"downloads":-1,"filename":"thelogrus-0.6.3-py3-none-any.whl","has_sig":false,"md5_digest":"111c4f6d04569c52fd81c7618119c9c4","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.9,<4.0","size":14912,"upload_time":"2022-02-11T16:18:09","upload_time_iso_8601":"2022-02-11T16:18:09.012395Z","url":"https://files.pythonhosted.org/packages/05/b6/459c588406a4ac80a38d4859b078b9fc9c2b897a0ea22fa075ad063189fc/thelogrus-0.6.3-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"1f530afe036c99b753d67480e366c83dd6ed240ea40fc947d5edb9f7fce3adb5","md5":"f6dfe4440643040decdfe11f41b2c87a","sha256":"1c99d3549fb4cdcd2dbf36aa77dc9dc1e4783870a9ca78586414a06a653245d7"},"downloads":-1,"filename":"thelogrus-0.6.3.tar.gz","has_sig":false,"md5_digest":"f6dfe4440643040decdfe11f41b2c87a","packagetype":"sdist","python_version":"source","requires_python":">=3.9,<4.0","size":12945,"upload_time":"2022-02-11T16:18:10","upload_time_iso_8601":"2022-02-11T16:18:10.440324Z","url":"https://files.pythonhosted.org/packages/1f/53/0afe036c99b753d67480e366c83dd6ed240ea40fc947d5edb9f7fce3adb5/thelogrus-0.6.3.tar.gz","yanked":false,"yanked_reason":null}],"0.7.0":[{"comment_text":"","digests":{"blake2b_256":"aa7ef502e2f438b697060def938837c067c500186254dd3ff8621b5860e00320","md5":"6a0efa8553860cdede01489e9635d230","sha256":"d6b3e16e9a6c7ef8d9b9e5823434aab2720d5d7bb83450f69aaa589b9c68eda3"},"downloads":-1,"filename":"thelogrus-0.7.0-py3-none-any.whl","has_sig":false,"md5_digest":"6a0efa8553860cdede01489e9635d230","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.6,<4.0","size":14925,"upload_time":"2022-10-24T21:38:17","upload_time_iso_8601":"2022-10-24T21:38:17.131475Z","url":"https://files.pythonhosted.org/packages/aa/7e/f502e2f438b697060def938837c067c500186254dd3ff8621b5860e00320/thelogrus-0.7.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"9227370f9b7eda763ee2f2a5228bab066b15c86d551b750f3841f6afb8c33892","md5":"1223780aec849eb83a5a305e9271ef2c","sha256":"fd7171e065bb739ab54ac3c5098e601037ca7ca91366b8e96140e078b1fe4e04"},"downloads":-1,"filename":"thelogrus-0.7.0.tar.gz","has_sig":false,"md5_digest":"1223780aec849eb83a5a305e9271ef2c","packagetype":"sdist","python_version":"source","requires_python":">=3.6,<4.0","size":12995,"upload_time":"2022-10-24T21:38:19","upload_time_iso_8601":"2022-10-24T21:38:19.332072Z","url":"https://files.pythonhosted.org/packages/92/27/370f9b7eda763ee2f2a5228bab066b15c86d551b750f3841f6afb8c33892/thelogrus-0.7.0.tar.gz","yanked":false,"yanked_reason":null}]},"urls":[{"comment_text":"","digests":{"blake2b_256":"aa7ef502e2f438b697060def938837c067c500186254dd3ff8621b5860e00320","md5":"6a0efa8553860cdede01489e9635d230","sha256":"d6b3e16e9a6c7ef8d9b9e5823434aab2720d5d7bb83450f69aaa589b9c68eda3"},"downloads":-1,"filename":"thelogrus-0.7.0-py3-none-any.whl","has_sig":false,"md5_digest":"6a0efa8553860cdede01489e9635d230","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.6,<4.0","size":14925,"upload_time":"2022-10-24T21:38:17","upload_time_iso_8601":"2022-10-24T21:38:17.131475Z","url":"https://files.pythonhosted.org/packages/aa/7e/f502e2f438b697060def938837c067c500186254dd3ff8621b5860e00320/thelogrus-0.7.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"9227370f9b7eda763ee2f2a5228bab066b15c86d551b750f3841f6afb8c33892","md5":"1223780aec849eb83a5a305e9271ef2c","sha256":"fd7171e065bb739ab54ac3c5098e601037ca7ca91366b8e96140e078b1fe4e04"},"downloads":-1,"filename":"thelogrus-0.7.0.tar.gz","has_sig":false,"md5_digest":"1223780aec849eb83a5a305e9271ef2c","packagetype":"sdist","python_version":"source","requires_python":">=3.6,<4.0","size":12995,"upload_time":"2022-10-24T21:38:19","upload_time_iso_8601":"2022-10-24T21:38:19.332072Z","url":"https://files.pythonhosted.org/packages/92/27/370f9b7eda763ee2f2a5228bab066b15c86d551b750f3841f6afb8c33892/thelogrus-0.7.0.tar.gz","yanked":false,"yanked_reason":null}],"vulnerabilities":[]}
