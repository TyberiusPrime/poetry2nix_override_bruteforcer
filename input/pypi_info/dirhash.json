{"info":{"author":"Anders Huss","author_email":"andhus@kth.se","bugtrack_url":null,"classifiers":[],"description":"\n[![codecov](https://codecov.io/gh/andhus/dirhash-python/branch/master/graph/badge.svg)](https://codecov.io/gh/andhus/dirhash-python)\n\n# dirhash\n\nA lightweight python module and CLI for computing the hash of any\ndirectory based on its files' structure and content.\n\n- Supports all hashing algorithms of Python's built-in `hashlib` module.\n- Glob/wildcard (\".gitignore style\") path matching for expressive filtering of files to include/exclude.\n- Multiprocessing for up to [6x speed-up](#performance)\n\nThe hash is computed according to the [Dirhash Standard](https://github.com/andhus/dirhash), which is designed to allow for consistent and collision resistant generation/verification of directory hashes across implementations.\n\n## Installation\n\nFrom PyPI:\n\n```commandline\npip install dirhash\n```\n\nOr directly from source:\n\n```commandline\ngit clone git@github.com:andhus/dirhash-python.git\npip install dirhash/\n```\n\n## Usage\n\nPython module:\n\n```python\nfrom dirhash import dirhash\n\ndirpath = \"path/to/directory\"\ndir_md5 = dirhash(dirpath, \"md5\")\npyfiles_md5 = dirhash(dirpath, \"md5\", match=[\"*.py\"])\nno_hidden_sha1 = dirhash(dirpath, \"sha1\", ignore=[\".*\", \".*/\"])\n```\n\nCLI:\n\n```commandline\ndirhash path/to/directory -a md5\ndirhash path/to/directory -a md5 --match \"*.py\"\ndirhash path/to/directory -a sha1 --ignore \".*\"  \".*/\"\n```\n\n## Why?\n\nIf you (or your application) need to verify the integrity of a set of files as well\nas their name and location, you might find this useful. Use-cases range from\nverification of your image classification dataset (before spending GPU-$$$ on\ntraining your fancy Deep Learning model) to validation of generated files in\nregression-testing.\n\nThere isn't really a standard way of doing this. There are plenty of recipes out\nthere (see e.g. these SO-questions for [linux](https://stackoverflow.com/questions/545387/linux-compute-a-single-hash-for-a-given-folder-contents)\nand [python](https://stackoverflow.com/questions/24937495/how-can-i-calculate-a-hash-for-a-filesystem-directory-using-python))\nbut I couldn't find one that is properly tested (there are some gotcha:s to cover!)\nand documented with a compelling user interface. `dirhash` was created with this as\nthe goal.\n\n[checksumdir](https://github.com/cakepietoast/checksumdir) is another python\nmodule/tool with similar intent (that inspired this project) but it lacks much of the\nfunctionality offered here (most notably including file names/structure in the hash)\nand lacks tests.\n\n## Performance\n\nThe python `hashlib` implementation of common hashing algorithms are highly\noptimised. `dirhash` mainly parses the file tree, pipes data to `hashlib` and\ncombines the output. Reasonable measures have been taken to minimize the overhead\nand for common use-cases, the majority of time is spent reading data from disk\nand executing `hashlib` code.\n\nThe main effort to boost performance is support for multiprocessing, where the\nreading and hashing is parallelized over individual files.\n\nAs a reference, let's compare the performance of the `dirhash` [CLI](https://github.com/andhus/dirhash-python/blob/master/src/dirhash/cli.py)\nwith the shell command:\n\n`find path/to/folder -type f -print0 | sort -z | xargs -0 md5 | md5`\n\nwhich is the top answer for the SO-question:\n[Linux: compute a single hash for a given folder & contents?](https://stackoverflow.com/questions/545387/linux-compute-a-single-hash-for-a-given-folder-contents)\nResults for two test cases are shown below. Both have 1 GiB of random data: in\n\"flat_1k_1MB\", split into 1k files (1 MiB each) in a flat structure, and in\n\"nested_32k_32kB\", into 32k files (32 KiB each) spread over the 256 leaf directories\nin a binary tree of depth 8.\n\n| Implementation       | Test Case       | Time (s) | Speed up |\n| -------------------- | --------------- | -------: | -------: |\n| shell reference      | flat_1k_1MB     |     2.29 |   -> 1.0 |\n| `dirhash`            | flat_1k_1MB     |     1.67 |     1.36 |\n| `dirhash`(8 workers) | flat_1k_1MB     |     0.48 | **4.73** |\n| shell reference      | nested_32k_32kB |     6.82 |   -> 1.0 |\n| `dirhash`            | nested_32k_32kB |     3.43 |     2.00 |\n| `dirhash`(8 workers) | nested_32k_32kB |     1.14 | **6.00** |\n\nThe benchmark was run a MacBook Pro (2018), further details and source code [here](https://github.com/andhus/dirhash-python/tree/master/benchmark).\n\n## Documentation\n\nPlease refer to `dirhash -h`, the python [source code](https://github.com/andhus/dirhash-python/blob/master/src/dirhash/__init__.py) and the [Dirhash Standard](https://github.com/andhus/dirhash).\n","description_content_type":"text/markdown","docs_url":null,"download_url":null,"downloads":{"last_day":-1,"last_month":-1,"last_week":-1},"dynamic":null,"home_page":"https://github.com/andhus/dirhash-python","keywords":null,"license":"MIT","maintainer":null,"maintainer_email":null,"name":"dirhash","package_url":"https://pypi.org/project/dirhash/","platform":null,"project_url":"https://pypi.org/project/dirhash/","project_urls":{"Homepage":"https://github.com/andhus/dirhash-python"},"provides_extra":null,"release_url":"https://pypi.org/project/dirhash/0.4.1/","requires_dist":["scantree"],"requires_python":">=3.8","summary":"Python module and CLI for hashing of file system directories.","version":"0.4.1","yanked":false,"yanked_reason":null},"last_serial":23786810,"releases":{"0.1.1":[{"comment_text":"","digests":{"blake2b_256":"e37f7b41eb6b6c9695569bdeaff2bdeab3fa70b6df03f6b6ae016ca8c8370ee5","md5":"f29a18f60abe9676db50ee87ea7f6159","sha256":"dc88718f06dd7f6c3bb4fdfd1567ae161af152aecb0a74dae28fbfe726166ec3"},"downloads":-1,"filename":"dirhash-0.1.1.tar.gz","has_sig":false,"md5_digest":"f29a18f60abe9676db50ee87ea7f6159","packagetype":"sdist","python_version":"source","requires_python":null,"size":13390,"upload_time":"2019-02-15T06:25:21","upload_time_iso_8601":"2019-02-15T06:25:21.935756Z","url":"https://files.pythonhosted.org/packages/e3/7f/7b41eb6b6c9695569bdeaff2bdeab3fa70b6df03f6b6ae016ca8c8370ee5/dirhash-0.1.1.tar.gz","yanked":false,"yanked_reason":null}],"0.2.0":[{"comment_text":"","digests":{"blake2b_256":"e0edf4d8e1d97100c625808505b130932de787d8269d94b5aa34a52f8c43fed0","md5":"9c6846ded01bed1bcb9eefdf59c0465a","sha256":"e06d1e5a3459fd32061339f33e32682eee9bcd49554afaa19436121efe738693"},"downloads":-1,"filename":"dirhash-0.2.0-py3-none-any.whl","has_sig":false,"md5_digest":"9c6846ded01bed1bcb9eefdf59c0465a","packagetype":"bdist_wheel","python_version":"py3","requires_python":null,"size":12749,"upload_time":"2020-04-26T12:09:57","upload_time_iso_8601":"2020-04-26T12:09:57.418027Z","url":"https://files.pythonhosted.org/packages/e0/ed/f4d8e1d97100c625808505b130932de787d8269d94b5aa34a52f8c43fed0/dirhash-0.2.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"c8c10e4b7b7380a1bcb0597b0d9a9bbdc53f1c9ad1fe6b7c871ae5482600d264","md5":"fbfee2d939edf0ad07735e7a36a87270","sha256":"ec5129ee5d71ac6d605c29b17a8cc440ff7a7d569fb085e864ee427a422f4e9d"},"downloads":-1,"filename":"dirhash-0.2.0.tar.gz","has_sig":false,"md5_digest":"fbfee2d939edf0ad07735e7a36a87270","packagetype":"sdist","python_version":"source","requires_python":null,"size":13759,"upload_time":"2020-04-26T12:09:58","upload_time_iso_8601":"2020-04-26T12:09:58.541044Z","url":"https://files.pythonhosted.org/packages/c8/c1/0e4b7b7380a1bcb0597b0d9a9bbdc53f1c9ad1fe6b7c871ae5482600d264/dirhash-0.2.0.tar.gz","yanked":false,"yanked_reason":null}],"0.2.1":[{"comment_text":"","digests":{"blake2b_256":"1552442c59e8f444745f713de4661d224aabd3e5751e478841fe5b6cff1ddda9","md5":"df6e989e6bd644859b6c8aea064bb889","sha256":"b77ef0407e9fdb4fe63631601cb6732183131c5e5d805942c37ae19455b9d25c"},"downloads":-1,"filename":"dirhash-0.2.1-py3-none-any.whl","has_sig":false,"md5_digest":"df6e989e6bd644859b6c8aea064bb889","packagetype":"bdist_wheel","python_version":"py3","requires_python":null,"size":12901,"upload_time":"2020-08-26T20:01:49","upload_time_iso_8601":"2020-08-26T20:01:49.070118Z","url":"https://files.pythonhosted.org/packages/15/52/442c59e8f444745f713de4661d224aabd3e5751e478841fe5b6cff1ddda9/dirhash-0.2.1-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"390cd8edc97d854e00d2227320ef558338e4eef37fc925f235885ab3bffbceea","md5":"647cdcfe759c4f6ccf615757eab3de90","sha256":"31bf8192fbb6e09a2a7ff4de31b9eb127c58545af22125ca1fa67c91c8e2d898"},"downloads":-1,"filename":"dirhash-0.2.1.tar.gz","has_sig":false,"md5_digest":"647cdcfe759c4f6ccf615757eab3de90","packagetype":"sdist","python_version":"source","requires_python":null,"size":13833,"upload_time":"2020-08-26T20:01:50","upload_time_iso_8601":"2020-08-26T20:01:50.666312Z","url":"https://files.pythonhosted.org/packages/39/0c/d8edc97d854e00d2227320ef558338e4eef37fc925f235885ab3bffbceea/dirhash-0.2.1.tar.gz","yanked":false,"yanked_reason":null}],"0.3.0":[{"comment_text":"","digests":{"blake2b_256":"cb545d48db30964bcbe469568054528552449f4f52572ecd1b653fc38db08ec7","md5":"23bc80bf2ecadb0db6014e6e6b7fe033","sha256":"190c2cd9b99961bf82c481463faad09ac637be6894d7ffc60f8b57549169e535"},"downloads":-1,"filename":"dirhash-0.3.0-py3-none-any.whl","has_sig":false,"md5_digest":"23bc80bf2ecadb0db6014e6e6b7fe033","packagetype":"bdist_wheel","python_version":"py3","requires_python":null,"size":13206,"upload_time":"2024-04-09T21:38:04","upload_time_iso_8601":"2024-04-09T21:38:04.814753Z","url":"https://files.pythonhosted.org/packages/cb/54/5d48db30964bcbe469568054528552449f4f52572ecd1b653fc38db08ec7/dirhash-0.3.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"801bb23a119ebb77b823c33c65cc49c4bca342eea2424683d51f87d3dac72b38","md5":"01f860ef8b49b4e20a3e5cc2c420077d","sha256":"e000aa316ecb68b07c376def68affc0807d2221beaee56879ca8b4f5f76cf7cd"},"downloads":-1,"filename":"dirhash-0.3.0.tar.gz","has_sig":false,"md5_digest":"01f860ef8b49b4e20a3e5cc2c420077d","packagetype":"sdist","python_version":"source","requires_python":null,"size":20857,"upload_time":"2024-04-09T21:38:06","upload_time_iso_8601":"2024-04-09T21:38:06.286387Z","url":"https://files.pythonhosted.org/packages/80/1b/b23a119ebb77b823c33c65cc49c4bca342eea2424683d51f87d3dac72b38/dirhash-0.3.0.tar.gz","yanked":false,"yanked_reason":null}],"0.3.0a0":[{"comment_text":"","digests":{"blake2b_256":"6cae5795a2bffe723f679f0b87076d0296c0f65b57280adce6b00a4cda88e6b6","md5":"35f84eec890ddab48c8b11f1d23dcf79","sha256":"49f8a8376f7ea7f184867a8c069a2458e22c4779c5e93a51f62d8a158b0a4a47"},"downloads":-1,"filename":"dirhash-0.3.0a0-py3-none-any.whl","has_sig":false,"md5_digest":"35f84eec890ddab48c8b11f1d23dcf79","packagetype":"bdist_wheel","python_version":"py3","requires_python":null,"size":19411,"upload_time":"2024-04-09T21:05:23","upload_time_iso_8601":"2024-04-09T21:05:23.145952Z","url":"https://files.pythonhosted.org/packages/6c/ae/5795a2bffe723f679f0b87076d0296c0f65b57280adce6b00a4cda88e6b6/dirhash-0.3.0a0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"0741c4b0e13a843609d52aada5f0936f14ea719bc228c21c520893765a0a92d1","md5":"fbf2f14892c46f37a1a42c388dd1f10a","sha256":"1557c6ea5e538a0bf843141e6096023a7a1bffaeb8a1112ec17d4bb3189e156a"},"downloads":-1,"filename":"dirhash-0.3.0a0.tar.gz","has_sig":false,"md5_digest":"fbf2f14892c46f37a1a42c388dd1f10a","packagetype":"sdist","python_version":"source","requires_python":null,"size":27087,"upload_time":"2024-04-09T21:05:24","upload_time_iso_8601":"2024-04-09T21:05:24.251462Z","url":"https://files.pythonhosted.org/packages/07/41/c4b0e13a843609d52aada5f0936f14ea719bc228c21c520893765a0a92d1/dirhash-0.3.0a0.tar.gz","yanked":false,"yanked_reason":null}],"0.3.0a1":[{"comment_text":"","digests":{"blake2b_256":"4ac6679d5ec4b0f961a9006884a8eacce985a74413d99d34db6bf5d3cc2beb44","md5":"49472a559c9bd8bf9b126a44c79d7f4b","sha256":"c0aee3920218f9870de68272e7f0f218e1a18fed78f52218b4b7c60ea07652c4"},"downloads":-1,"filename":"dirhash-0.3.0a1-py3-none-any.whl","has_sig":false,"md5_digest":"49472a559c9bd8bf9b126a44c79d7f4b","packagetype":"bdist_wheel","python_version":"py3","requires_python":null,"size":13237,"upload_time":"2024-04-09T21:34:00","upload_time_iso_8601":"2024-04-09T21:34:00.523464Z","url":"https://files.pythonhosted.org/packages/4a/c6/679d5ec4b0f961a9006884a8eacce985a74413d99d34db6bf5d3cc2beb44/dirhash-0.3.0a1-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"078a372e57fed8d6d283960bbd3985590c2f73c2c84bc00008fe4c1f67623323","md5":"fc915aa4a26d38083f08261f94cd0bbb","sha256":"fe7febbd37e989ccd6f17c84ce4d01563320ef22a8260c6663312138a314e27a"},"downloads":-1,"filename":"dirhash-0.3.0a1.tar.gz","has_sig":false,"md5_digest":"fc915aa4a26d38083f08261f94cd0bbb","packagetype":"sdist","python_version":"source","requires_python":null,"size":20855,"upload_time":"2024-04-09T21:34:06","upload_time_iso_8601":"2024-04-09T21:34:06.580333Z","url":"https://files.pythonhosted.org/packages/07/8a/372e57fed8d6d283960bbd3985590c2f73c2c84bc00008fe4c1f67623323/dirhash-0.3.0a1.tar.gz","yanked":false,"yanked_reason":null}],"0.4.0":[{"comment_text":"","digests":{"blake2b_256":"4c10fb2c696724220bfbb64963a5eea6c13c4a72533b3c1b85bf03a53c40233a","md5":"1f88a48fdbe9a05fc07d8ff625d03e3a","sha256":"faa77de66a9674b06d9009f248056f25e1ae52ec36997ddb91e07bbde99c69be"},"downloads":-1,"filename":"dirhash-0.4.0-py3-none-any.whl","has_sig":false,"md5_digest":"1f88a48fdbe9a05fc07d8ff625d03e3a","packagetype":"bdist_wheel","python_version":"py3","requires_python":null,"size":13105,"upload_time":"2024-04-23T04:04:55","upload_time_iso_8601":"2024-04-23T04:04:55.597400Z","url":"https://files.pythonhosted.org/packages/4c/10/fb2c696724220bfbb64963a5eea6c13c4a72533b3c1b85bf03a53c40233a/dirhash-0.4.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"5126b7eabe07b4bf44472d62c9ea7923908d8a6ecd24a50fb7aecfcb4f3119f8","md5":"426800df40664918c98602803ad8b097","sha256":"264120928ff712f8cdf7ccdbe797f3a78fa78d6a17d5ee88d757ff06d335cd31"},"downloads":-1,"filename":"dirhash-0.4.0.tar.gz","has_sig":false,"md5_digest":"426800df40664918c98602803ad8b097","packagetype":"sdist","python_version":"source","requires_python":null,"size":20978,"upload_time":"2024-04-23T04:04:57","upload_time_iso_8601":"2024-04-23T04:04:57.245687Z","url":"https://files.pythonhosted.org/packages/51/26/b7eabe07b4bf44472d62c9ea7923908d8a6ecd24a50fb7aecfcb4f3119f8/dirhash-0.4.0.tar.gz","yanked":false,"yanked_reason":null}],"0.4.1":[{"comment_text":"","digests":{"blake2b_256":"cdc927f20d11452c32d254f3bd6e2d875f9c831af8f8a70067439166727f054d","md5":"92bcf08b944d53493a4dfb3a96136c33","sha256":"e327f6be22d89b66eb37f8e6ea486f4152f037c43803bdb2c0910b38eba63416"},"downloads":-1,"filename":"dirhash-0.4.1-py3-none-any.whl","has_sig":false,"md5_digest":"92bcf08b944d53493a4dfb3a96136c33","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.8","size":13114,"upload_time":"2024-06-21T18:36:30","upload_time_iso_8601":"2024-06-21T18:36:30.996889Z","url":"https://files.pythonhosted.org/packages/cd/c9/27f20d11452c32d254f3bd6e2d875f9c831af8f8a70067439166727f054d/dirhash-0.4.1-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"b021c0c957ea2f49ed7ee908489a7b0853bb0b47740784207c7f5c5320e388e4","md5":"c0081e1e9012ccfcd44156518bc27ff3","sha256":"4d342eaf26ec9ba4f0613f9c4f5b9eda05cf2184e5bd9abe7f9c6a7b8ed1ac42"},"downloads":-1,"filename":"dirhash-0.4.1.tar.gz","has_sig":false,"md5_digest":"c0081e1e9012ccfcd44156518bc27ff3","packagetype":"sdist","python_version":"source","requires_python":">=3.8","size":21049,"upload_time":"2024-06-21T18:36:32","upload_time_iso_8601":"2024-06-21T18:36:32.542227Z","url":"https://files.pythonhosted.org/packages/b0/21/c0c957ea2f49ed7ee908489a7b0853bb0b47740784207c7f5c5320e388e4/dirhash-0.4.1.tar.gz","yanked":false,"yanked_reason":null}]},"urls":[{"comment_text":"","digests":{"blake2b_256":"cdc927f20d11452c32d254f3bd6e2d875f9c831af8f8a70067439166727f054d","md5":"92bcf08b944d53493a4dfb3a96136c33","sha256":"e327f6be22d89b66eb37f8e6ea486f4152f037c43803bdb2c0910b38eba63416"},"downloads":-1,"filename":"dirhash-0.4.1-py3-none-any.whl","has_sig":false,"md5_digest":"92bcf08b944d53493a4dfb3a96136c33","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.8","size":13114,"upload_time":"2024-06-21T18:36:30","upload_time_iso_8601":"2024-06-21T18:36:30.996889Z","url":"https://files.pythonhosted.org/packages/cd/c9/27f20d11452c32d254f3bd6e2d875f9c831af8f8a70067439166727f054d/dirhash-0.4.1-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"b021c0c957ea2f49ed7ee908489a7b0853bb0b47740784207c7f5c5320e388e4","md5":"c0081e1e9012ccfcd44156518bc27ff3","sha256":"4d342eaf26ec9ba4f0613f9c4f5b9eda05cf2184e5bd9abe7f9c6a7b8ed1ac42"},"downloads":-1,"filename":"dirhash-0.4.1.tar.gz","has_sig":false,"md5_digest":"c0081e1e9012ccfcd44156518bc27ff3","packagetype":"sdist","python_version":"source","requires_python":">=3.8","size":21049,"upload_time":"2024-06-21T18:36:32","upload_time_iso_8601":"2024-06-21T18:36:32.542227Z","url":"https://files.pythonhosted.org/packages/b0/21/c0c957ea2f49ed7ee908489a7b0853bb0b47740784207c7f5c5320e388e4/dirhash-0.4.1.tar.gz","yanked":false,"yanked_reason":null}],"vulnerabilities":[]}
