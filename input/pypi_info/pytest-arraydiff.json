{"info":{"author":"The Astropy Developers","author_email":"astropy.team@gmail.com","bugtrack_url":null,"classifiers":["Development Status :: 4 - Beta","Framework :: Pytest","Intended Audience :: Developers","License :: OSI Approved :: BSD License","Operating System :: OS Independent","Programming Language :: Python","Programming Language :: Python :: 3","Programming Language :: Python :: 3 :: Only","Programming Language :: Python :: 3.10","Programming Language :: Python :: 3.11","Programming Language :: Python :: 3.12","Programming Language :: Python :: 3.7","Programming Language :: Python :: 3.8","Programming Language :: Python :: 3.9","Programming Language :: Python :: Implementation :: CPython","Topic :: Software Development :: Testing","Topic :: Utilities"],"description":".. image:: https://zenodo.org/badge/DOI/10.5281/zenodo.5811772.svg\n   :target: https://doi.org/10.5281/zenodo.5811772\n   :alt: 10.5281/zenodo.5811772\n\n.. image:: https://github.com/astropy/pytest-arraydiff/workflows/CI/badge.svg\n    :target: https://github.com/astropy/pytest-arraydiff/actions\n    :alt: CI Status\n\n.. image:: https://img.shields.io/pypi/v/pytest-arraydiff.svg\n    :target: https://pypi.org/project/pytest-arraydiff\n    :alt: PyPI Status\n\nAbout\n-----\n\nThis is a `py.test <http://pytest.org>`__ plugin to facilitate the\ngeneration and comparison of data arrays produced during tests, in particular\nin cases where the arrays are too large to conveniently hard-code them\nin the tests (e.g. ``np.testing.assert_allclose(x, [1, 2, 3])``).\n\nThe basic idea is that you can write a test that generates a Numpy array (or\nother related objects depending on the format, e.g. pandas DataFrame).\nYou can then either run the\ntests in a mode to **generate** reference files from the arrays, or you can run\nthe tests in **comparison** mode, which will compare the results of the tests to\nthe reference ones within some tolerance.\n\nAt the moment, the supported file formats for the reference files are:\n\n-  A plain text-based format (based on Numpy ``loadtxt`` output)\n-  The FITS format (requires `astropy <http://www.astropy.org>`__). With this\n   format, tests can return either a Numpy array for a FITS HDU object.\n-  A pandas HDF5 format using the pandas HDFStore\n\nFor more information on how to write tests to do this, see the **Using**\nsection below.\n\nInstalling\n----------\n\nThis plugin is compatible with Python 2.7, and 3.5 and later, and\nrequires `pytest <http://pytest.org>`__ and\n`numpy <http://www.numpy.org>`__ to be installed.\n\nTo install, you can do::\n\n    pip install pytest-arraydiff\n\nYou can check that the plugin is registered with pytest by doing::\n\n    py.test --version\n\nwhich will show a list of plugins::\n\n    This is pytest version 2.7.1, imported from ...\n    setuptools registered plugins:\n      pytest-arraydiff-0.1 at ...\n\nUsing\n-----\n\nTo use, you simply need to mark the function where you want to compare\narrays using ``@pytest.mark.array_compare``, and make sure that the\nfunction returns a plain Numpy array::\n\n    python\n    import pytest\n    import numpy as np\n\n    @pytest.mark.array_compare\n    def test_succeeds():\n        return np.arange(3 * 5 * 4).reshape((3, 5, 4))\n\nTo generate the reference data files, run the tests with the\n``--arraydiff-generate-path`` option with the name of the directory\nwhere the generated files should be placed::\n\n    py.test --arraydiff-generate-path=reference\n\nIf the directory does not exist, it will be created. The directory will\nbe interpreted as being relative to where you are running ``py.test``.\nMake sure you manually check the reference arrays to ensure they are\ncorrect.\n\nOnce you are happy with the generated data files, you should move them\nto a sub-directory called ``reference`` relative to the test files (this\nname is configurable, see below). You can also generate the baseline\narrays directly in the right directory.\n\nYou can then run the tests simply with::\n\n    py.test --arraydiff\n\nand the tests will pass if the arrays are the same. If you omit the\n``--arraydiff`` option, the tests will run but will only check that the\ncode runs without checking the output arrays.\n\nOptions\n-------\n\nThe ``@pytest.mark.array_compare`` marker take an argument to specify\nthe format to use for the reference files:\n\n.. code:: python\n\n    @pytest.mark.array_compare(file_format='text')\n    def test_array():\n        ...\n\nThe default file format can also be specified using the\n``--arraydiff-default-format=<format>`` flag when running ``py.test``,\nand ``<format>`` should be either ``fits`` or ``text``.\n\nThe supported formats at this time are ``text`` and ``fits``, and\ncontributions for other formats are welcome. The default format is\n``text``.\n\nAdditional arguments are the relative and absolute tolerances for floating\npoint values (which default to 1e-7 and 0, respectively):\n\n.. code:: python\n\n    @pytest.mark.array_compare(rtol=20, atol=0.1)\n    def test_array():\n        ...\n\nYou can also pass keyword arguments to the writers using the\n``write_kwargs``. For the ``text`` format, these arguments are passed to\n``savetxt`` while for the ``fits`` format they are passed to Astropy's\n``fits.writeto`` function.\n\n.. code:: python\n\n    @pytest.mark.array_compare(file_format='fits', write_kwargs={'output_verify': 'silentfix'})\n    def test_array():\n        ...\n\nOther options include the name of the reference directory (which\ndefaults to ``reference`` ) and the filename for the reference file\n(which defaults to the name of the test with a format-dependent\nextension).\n\n.. code:: python\n\n    @pytest.mark.array_compare(reference_dir='baseline_arrays',\n                                   filename='other_name.fits')\n    def test_array():\n        ...\n\nThe reference directory in the decorator above will be interpreted as\nbeing relative to the test file. Note that the baseline directory can\nalso be a URL (which should start with ``http://`` or ``https://`` and\nend in a slash).\n\nFinally, you can also set a custom baseline directory globally when\nrunning tests by running ``py.test`` with::\n\n    py.test --arraydiff --arraydiff-reference-path=baseline_arrays\n\nThis directory will be interpreted as being relative to where the tests\nare run. In addition, if both this option and the ``reference_dir``\noption in the ``array_compare`` decorator are used, the one in the\ndecorator takes precedence.\n\nTest failure example\n--------------------\n\nIf the arrays produced by the tests are correct, then the test will\npass, but if they are not, the test will fail with a message similar to\nthe following::\n\n    E               AssertionError:\n    E\n    E               a: /var/folders/zy/t1l3sx310d3d6p0kyxqzlrnr0000gr/T/tmpbvjkzt_q/test_to_mask_rect-mode_subpixels-subpixels_18.txt\n    E               b: /var/folders/zy/t1l3sx310d3d6p0kyxqzlrnr0000gr/T/tmpbvjkzt_q/reference-test_to_mask_rect-mode_subpixels-subpixels_18.txt\n    E\n    E               Not equal to tolerance rtol=1e-07, atol=0\n    E\n    E               (mismatch 47.22222222222222%)\n    E                x: array([[ 0.      ,  0.      ,  0.      ,  0.      ,  0.404012,  0.55    ,\n    E                        0.023765,  0.      ,  0.      ],\n    E                      [ 0.      ,  0.      ,  0.      ,  0.112037,  1.028704,  1.1     ,...\n    E                y: array([[ 0.      ,  0.      ,  0.      ,  0.      ,  0.367284,  0.5     ,\n    E                        0.021605,  0.      ,  0.      ],\n    E                      [ 0.      ,  0.      ,  0.      ,  0.101852,  0.935185,  1.      ,...\n\nThe file paths included in the exception are then available for\ninspection.\n\nRunning the tests for pytest-arraydiff\n--------------------------------------\n\nIf you are contributing some changes and want to run the tests, first\ninstall the latest version of the plugin then do::\n\n    cd tests\n    py.test --arraydiff\n\nThe reason for having to install the plugin first is to ensure that the\nplugin is correctly loaded as part of the test suite.\n","description_content_type":"text/x-rst","docs_url":null,"download_url":"","downloads":{"last_day":-1,"last_month":-1,"last_week":-1},"dynamic":null,"home_page":"https://github.com/astropy/pytest-arraydiff","keywords":"","license":"BSD","maintainer":"","maintainer_email":"","name":"pytest-arraydiff","package_url":"https://pypi.org/project/pytest-arraydiff/","platform":null,"project_url":"https://pypi.org/project/pytest-arraydiff/","project_urls":{"Homepage":"https://github.com/astropy/pytest-arraydiff"},"provides_extra":null,"release_url":"https://pypi.org/project/pytest-arraydiff/0.6.1/","requires_dist":["pytest >=4.6","numpy","astropy ; extra == 'test'","pandas ; extra == 'test'","tables ; extra == 'test'"],"requires_python":">=3.7","summary":"pytest plugin to help with comparing array output from tests","version":"0.6.1","yanked":false,"yanked_reason":null},"last_serial":20803125,"releases":{"0.1":[{"comment_text":"","digests":{"blake2b_256":"04655d1c98e6f9f8ff97f771d9bc7a349948418f9a7e86c9285f63853861af51","md5":"024bff8dc06fb2e158956d3c70ae5334","sha256":"4ca5aaa9a8dc55f0cf621ce6cca3060e320e32b1a500e2f87298ade0a5ece7e1"},"downloads":-1,"filename":"pytest-arraydiff-0.1.tar.gz","has_sig":false,"md5_digest":"024bff8dc06fb2e158956d3c70ae5334","packagetype":"sdist","python_version":"source","requires_python":null,"size":8752,"upload_time":"2016-11-26T13:16:22","upload_time_iso_8601":"2016-11-26T13:16:22.817419Z","url":"https://files.pythonhosted.org/packages/04/65/5d1c98e6f9f8ff97f771d9bc7a349948418f9a7e86c9285f63853861af51/pytest-arraydiff-0.1.tar.gz","yanked":false,"yanked_reason":null}],"0.2":[{"comment_text":"","digests":{"blake2b_256":"c513fbaf81f14374c2a27782ed43a5e035d80af15982e27cc04888a1d3c8c244","md5":"b6791e08a998d8ce508056ad50513bcf","sha256":"0bc7ae769bfe02e7f797c1251481d0490fedfa5092c1ededa039cd3a316df850"},"downloads":-1,"filename":"pytest_arraydiff-0.2-py2.py3-none-any.whl","has_sig":false,"md5_digest":"b6791e08a998d8ce508056ad50513bcf","packagetype":"bdist_wheel","python_version":"py2.py3","requires_python":null,"size":11580,"upload_time":"2018-01-29T10:18:03","upload_time_iso_8601":"2018-01-29T10:18:03.186268Z","url":"https://files.pythonhosted.org/packages/c5/13/fbaf81f14374c2a27782ed43a5e035d80af15982e27cc04888a1d3c8c244/pytest_arraydiff-0.2-py2.py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"c6164f36013c37e7adabbdb4db10b39a69ca8e4723ea144ef700409480b7591b","md5":"1c84bdfc49347af1d8eceb47c23655ad","sha256":"0145edfa8830aba07150fc09443da74d0ec4074e3de702445453415a744d3ad9"},"downloads":-1,"filename":"pytest-arraydiff-0.2.tar.gz","has_sig":false,"md5_digest":"1c84bdfc49347af1d8eceb47c23655ad","packagetype":"sdist","python_version":"source","requires_python":null,"size":12838,"upload_time":"2018-01-29T10:18:09","upload_time_iso_8601":"2018-01-29T10:18:09.959572Z","url":"https://files.pythonhosted.org/packages/c6/16/4f36013c37e7adabbdb4db10b39a69ca8e4723ea144ef700409480b7591b/pytest-arraydiff-0.2.tar.gz","yanked":false,"yanked_reason":null}],"0.3":[{"comment_text":"","digests":{"blake2b_256":"b2dd0096e95a7da9d6cd566c35bd85b97659303007c2e8a3573c5d51fbf5da3d","md5":"facfb0e447d9d85e3e0813449da629da","sha256":"7d981cf9c09178f40d00c7b791a226438a2c1b46f210ddaaaa1c6aa63cae6456"},"downloads":-1,"filename":"pytest_arraydiff-0.3-py2.py3-none-any.whl","has_sig":false,"md5_digest":"facfb0e447d9d85e3e0813449da629da","packagetype":"bdist_wheel","python_version":"py2.py3","requires_python":null,"size":8153,"upload_time":"2018-12-06T04:31:20","upload_time_iso_8601":"2018-12-06T04:31:20.533853Z","url":"https://files.pythonhosted.org/packages/b2/dd/0096e95a7da9d6cd566c35bd85b97659303007c2e8a3573c5d51fbf5da3d/pytest_arraydiff-0.3-py2.py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"36f17f637181ee9d8a175ac3090cd91cf3b3a367eac223cad7c3a747a6f7009f","md5":"5d9af26545c15eaceee403f6cab6261d","sha256":"de2d62f53ecc107ed754d70d562adfa7573677a263216a7f19aa332f20dc6c15"},"downloads":-1,"filename":"pytest-arraydiff-0.3.tar.gz","has_sig":false,"md5_digest":"5d9af26545c15eaceee403f6cab6261d","packagetype":"sdist","python_version":"source","requires_python":null,"size":11167,"upload_time":"2018-12-06T04:31:22","upload_time_iso_8601":"2018-12-06T04:31:22.421040Z","url":"https://files.pythonhosted.org/packages/36/f1/7f637181ee9d8a175ac3090cd91cf3b3a367eac223cad7c3a747a6f7009f/pytest-arraydiff-0.3.tar.gz","yanked":false,"yanked_reason":null}],"0.4.0":[{"comment_text":"","digests":{"blake2b_256":"23dfc0808e83754dfbc7f6a6b0b614a686dd75980cf03efe465e5cd51570b88c","md5":"c0677ddfa51f55438738a07bbefa6c9b","sha256":"25635705a0a38b3ef336786afa39fa7a3525dac85c9699ba666055b0af6973e8"},"downloads":-1,"filename":"pytest_arraydiff-0.4.0-py3-none-any.whl","has_sig":false,"md5_digest":"c0677ddfa51f55438738a07bbefa6c9b","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.7","size":9236,"upload_time":"2021-12-31T06:37:16","upload_time_iso_8601":"2021-12-31T06:37:16.369122Z","url":"https://files.pythonhosted.org/packages/23/df/c0808e83754dfbc7f6a6b0b614a686dd75980cf03efe465e5cd51570b88c/pytest_arraydiff-0.4.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"862da24aee32d948f05b676e4fcd4d1afb5aa834621cfe383dc9cea31b921c39","md5":"f1329e8b636f2381ebf2b56ee7f3aba0","sha256":"55a675e84f4f7f4511e5b24d9b45d9772ef09a308066b6b17fb22ed1e22ebdf5"},"downloads":-1,"filename":"pytest-arraydiff-0.4.0.tar.gz","has_sig":false,"md5_digest":"f1329e8b636f2381ebf2b56ee7f3aba0","packagetype":"sdist","python_version":"source","requires_python":">=3.7","size":12168,"upload_time":"2021-12-31T06:37:17","upload_time_iso_8601":"2021-12-31T06:37:17.981889Z","url":"https://files.pythonhosted.org/packages/86/2d/a24aee32d948f05b676e4fcd4d1afb5aa834621cfe383dc9cea31b921c39/pytest-arraydiff-0.4.0.tar.gz","yanked":false,"yanked_reason":null}],"0.5.0":[{"comment_text":"","digests":{"blake2b_256":"10dc6a8a855f80b79491295174f986df6dc34a0bb0459a6b7aeb19ae9385638c","md5":"68779d0562952119f42488c04456bbaa","sha256":"3a638f8b30ed0174e680b7ae57b66884451ffcdd08000530e4f03da23539b6da"},"downloads":-1,"filename":"pytest_arraydiff-0.5.0-py3-none-any.whl","has_sig":false,"md5_digest":"68779d0562952119f42488c04456bbaa","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.7","size":9351,"upload_time":"2022-01-13T02:28:02","upload_time_iso_8601":"2022-01-13T02:28:02.091657Z","url":"https://files.pythonhosted.org/packages/10/dc/6a8a855f80b79491295174f986df6dc34a0bb0459a6b7aeb19ae9385638c/pytest_arraydiff-0.5.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"17fe6a7c848f3b8b0ba81accd6de30a6ed558eb1b4044786a44c462127618757","md5":"279c9933e08652200bd81fce2d80f0a7","sha256":"714149beffd0dfa085477c65791c1139b619602b049536353ce1a91397fb3bd2"},"downloads":-1,"filename":"pytest-arraydiff-0.5.0.tar.gz","has_sig":false,"md5_digest":"279c9933e08652200bd81fce2d80f0a7","packagetype":"sdist","python_version":"source","requires_python":">=3.7","size":12355,"upload_time":"2022-01-13T02:28:03","upload_time_iso_8601":"2022-01-13T02:28:03.377165Z","url":"https://files.pythonhosted.org/packages/17/fe/6a7c848f3b8b0ba81accd6de30a6ed558eb1b4044786a44c462127618757/pytest-arraydiff-0.5.0.tar.gz","yanked":false,"yanked_reason":null}],"0.6.0":[{"comment_text":"","digests":{"blake2b_256":"44b1e6feda4d84a79d3fcfeb89286294b08de49f8e03a229f657ea610da1db06","md5":"6a9e108c4672edad6456f938200df05c","sha256":"ea06c6f6937ef2a283f2404a217059bfec6fc70bff224fbe7408eb24035e8c74"},"downloads":-1,"filename":"pytest_arraydiff-0.6.0-py3-none-any.whl","has_sig":false,"md5_digest":"6a9e108c4672edad6456f938200df05c","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.7","size":9986,"upload_time":"2023-11-15T23:13:44","upload_time_iso_8601":"2023-11-15T23:13:44.803459Z","url":"https://files.pythonhosted.org/packages/44/b1/e6feda4d84a79d3fcfeb89286294b08de49f8e03a229f657ea610da1db06/pytest_arraydiff-0.6.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"1e44afa4287e9d3e3f1cef8145eb94507dc96b7a2369477da6ab5b880fb8320f","md5":"00cf2eebeb576e8ba70908fca1128294","sha256":"ce611d5cd23080a2789a7ff6e8f34cc22f298c9b2fd2c29e190c2c415ed99f97"},"downloads":-1,"filename":"pytest-arraydiff-0.6.0.tar.gz","has_sig":false,"md5_digest":"00cf2eebeb576e8ba70908fca1128294","packagetype":"sdist","python_version":"source","requires_python":">=3.7","size":16600,"upload_time":"2023-11-15T23:13:46","upload_time_iso_8601":"2023-11-15T23:13:46.357168Z","url":"https://files.pythonhosted.org/packages/1e/44/afa4287e9d3e3f1cef8145eb94507dc96b7a2369477da6ab5b880fb8320f/pytest-arraydiff-0.6.0.tar.gz","yanked":false,"yanked_reason":null}],"0.6.1":[{"comment_text":"","digests":{"blake2b_256":"cf2a2f8efb1ef8048aec7b44f37bc3fecb8c2c22e3238781d3e93c58d9c89268","md5":"ce1e3d6ea9ab45a7c2f36c8fd5e98cf4","sha256":"64be1cc8e79874203eca80b1959134b8bb7a47b41cf7631310ba7fe6e5840694"},"downloads":-1,"filename":"pytest_arraydiff-0.6.1-py3-none-any.whl","has_sig":false,"md5_digest":"ce1e3d6ea9ab45a7c2f36c8fd5e98cf4","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.7","size":10042,"upload_time":"2023-11-27T10:52:16","upload_time_iso_8601":"2023-11-27T10:52:16.382799Z","url":"https://files.pythonhosted.org/packages/cf/2a/2f8efb1ef8048aec7b44f37bc3fecb8c2c22e3238781d3e93c58d9c89268/pytest_arraydiff-0.6.1-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"1e8ac43e892759d10d134763b6cccf853e66a18cd956616bebd4b7d782471534","md5":"ee1a683fa6a312d86dd8bd9342744f78","sha256":"2937b1450fc935620f24709d87d40c67e055a043d7b8541a25fdfa994dda67de"},"downloads":-1,"filename":"pytest-arraydiff-0.6.1.tar.gz","has_sig":false,"md5_digest":"ee1a683fa6a312d86dd8bd9342744f78","packagetype":"sdist","python_version":"source","requires_python":">=3.7","size":16907,"upload_time":"2023-11-27T10:52:18","upload_time_iso_8601":"2023-11-27T10:52:18.175956Z","url":"https://files.pythonhosted.org/packages/1e/8a/c43e892759d10d134763b6cccf853e66a18cd956616bebd4b7d782471534/pytest-arraydiff-0.6.1.tar.gz","yanked":false,"yanked_reason":null}]},"urls":[{"comment_text":"","digests":{"blake2b_256":"cf2a2f8efb1ef8048aec7b44f37bc3fecb8c2c22e3238781d3e93c58d9c89268","md5":"ce1e3d6ea9ab45a7c2f36c8fd5e98cf4","sha256":"64be1cc8e79874203eca80b1959134b8bb7a47b41cf7631310ba7fe6e5840694"},"downloads":-1,"filename":"pytest_arraydiff-0.6.1-py3-none-any.whl","has_sig":false,"md5_digest":"ce1e3d6ea9ab45a7c2f36c8fd5e98cf4","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.7","size":10042,"upload_time":"2023-11-27T10:52:16","upload_time_iso_8601":"2023-11-27T10:52:16.382799Z","url":"https://files.pythonhosted.org/packages/cf/2a/2f8efb1ef8048aec7b44f37bc3fecb8c2c22e3238781d3e93c58d9c89268/pytest_arraydiff-0.6.1-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"1e8ac43e892759d10d134763b6cccf853e66a18cd956616bebd4b7d782471534","md5":"ee1a683fa6a312d86dd8bd9342744f78","sha256":"2937b1450fc935620f24709d87d40c67e055a043d7b8541a25fdfa994dda67de"},"downloads":-1,"filename":"pytest-arraydiff-0.6.1.tar.gz","has_sig":false,"md5_digest":"ee1a683fa6a312d86dd8bd9342744f78","packagetype":"sdist","python_version":"source","requires_python":">=3.7","size":16907,"upload_time":"2023-11-27T10:52:18","upload_time_iso_8601":"2023-11-27T10:52:18.175956Z","url":"https://files.pythonhosted.org/packages/1e/8a/c43e892759d10d134763b6cccf853e66a18cd956616bebd4b7d782471534/pytest-arraydiff-0.6.1.tar.gz","yanked":false,"yanked_reason":null}],"vulnerabilities":[]}
