{"info":{"author":"Aaron Defazio","author_email":"adefazio@meta.com","bugtrack_url":null,"classifiers":["License :: OSI Approved :: MIT License","Operating System :: OS Independent","Programming Language :: Python :: 3"],"description":"# D-Adaptation\n[![Downloads](https://static.pepy.tech/badge/dadaptation)](https://pepy.tech/project/dadaptation) [![Downloads](https://static.pepy.tech/badge/dadaptation/month)](https://pepy.tech/project/dadaptation)\n\nLearning rate free learning for SGD, AdaGrad and Adam! \n\n*by Aaron Defazio and Konstantin Mishchenko [(Arxiv)](https://arxiv.org/abs/2301.07733)*\n\n``` pip install dadaptation ```\n\n**NEW V3.0 release uses an improved algorithm that may give different results from past versions. The old version is still availiable under experimental/d_adapt_adam_preprint.**\n\n## NEW: Prodigy\nWe have recently released the [Prodigy](https://github.com/konstmish/prodigy) method, which grows the adapted learning rate faster than D-Adaptation in theory and practice. Try it out if D-Adaptation is under-estimating the learning rate.\n\n## How To Cite\nIf you use D-Adaptation in a publication, please cite our work as \n```\n@ARTICLE{defazio2023dadapt,\nauthor = {Aaron Defazio and Konstantin Mishchenko},\ntitle = {Learning-Rate-Free Learning by D-Adaptation},\njournal = {The 40th International Conference on Machine Learning (ICML 2023)},\nyear = {2023}\n}\n```\n\n## Details\n\nThe provided Pytorch Optimizer classes are drop-in replacements, either copy into your project or use via pip with dadaptation.DAdaptSGD,  dadaptation.DAdaptAdam or dadaptation.DAdaptAdaGrad.\n\n - **Set the LR parameter to 1.0**. This parameter is not ignored. Setting it larger to smaller will directly scale up or down the D-Adapted learning rate estimate.\n - Different per-layer learning rates can be achieved by setting the layer_scale value in each parameter-group. It defaults to 1.0, and scales each layer's learning rate relative to the other layers.\n - **Use the same learning rate scheduler you would normally use on the problem.**\n - The Adam variant supports AdamW style weight decay, just set decouple=True. It is not turned on by default, so if you are replacing your adam implementation, make sure you use decoupled if necessary.\n - It may be necessary to use larger weight decay than you would normally use, try a factor of 2 or 4 bigger if you see overfitting. D-Adaptation uses larger learning rates than people typically hand-choose, in some cases that requires more decay.\n - Use the log_every setting to see the learning rate being used (d*lr) and the current D bound.\n - Only the AdaGrad version supports sparse gradients. It does not adapt as efficiently as the other variants and should be considered experimental.\n \n## Change Log\n\n### Version 3.2\n - Added support for layer-wise scaling to DAdaptAdam.\n\n### Version 3.0\n - Major improvements to DAdaptAdam, improving the performance particularly on Transformer models. This variant may behave differently in practice. The old version is availiable under experimental/d_adapt_adam_preprint if you wish to continue to use it.\n - The IP variant is now the main variant of the method.\n - Added Lion. This is highly experimental. Feedback on it's performance is welcome.\n\n### Version 2.0\n - Added Adan - should still be considered experimental.\n - Added support for PyTorch's Fully Sharded Data Parallel. \n - Improved support of edge cases such as learning rate zero.\n - Improved logging - uses Python logging rather than print statements\n\n # Experimental results\n\n![vision](figures/dadapt_cifar.png)\n![vision](figures/dadapt_cifar100.png)\n![vision](figures/dadapt_imagenet.png)\n![vision](figures/dadapt_vit.png)\n![vision](figures/dadapt_lstm.png)\n![vision](figures/dadapt_roberta.png)\n![vision](figures/dadapt_gpt.png)\n![vision](figures/dadapt_fastmri.png)\n![vision](figures/dadapt_detectron.png)\n![vision](figures/dadapt_dlrm.png)\n\n# License\nSee the [License file](/LICENSE).\n","description_content_type":"text/markdown","docs_url":null,"download_url":"","downloads":{"last_day":-1,"last_month":-1,"last_week":-1},"dynamic":null,"home_page":"https://github.com/facebookresearch/dadaptation","keywords":"","license":"","maintainer":"","maintainer_email":"","name":"dadaptation","package_url":"https://pypi.org/project/dadaptation/","platform":null,"project_url":"https://pypi.org/project/dadaptation/","project_urls":{"Homepage":"https://github.com/facebookresearch/dadaptation"},"provides_extra":null,"release_url":"https://pypi.org/project/dadaptation/3.2/","requires_dist":null,"requires_python":">=3.6","summary":"Learning Rate Free Learning for Adam, SGD and AdaGrad","version":"3.2","yanked":false,"yanked_reason":null},"last_serial":20807869,"releases":{"1.1":[{"comment_text":"","digests":{"blake2b_256":"ff7da868b0165b9cdb0c9ce307e84046f0208ff8a49a0cfa35b99795e52d0278","md5":"953f15b409d0fba63f3ba91d6495c82f","sha256":"8e117d13a1bdbc71d3d1b2f75ee36c0ddf28189d1ca731b585cdb8892987c0d4"},"downloads":-1,"filename":"dadaptation-1.1.tar.gz","has_sig":false,"md5_digest":"953f15b409d0fba63f3ba91d6495c82f","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":7549,"upload_time":"2023-01-20T15:34:13","upload_time_iso_8601":"2023-01-20T15:34:13.488078Z","url":"https://files.pythonhosted.org/packages/ff/7d/a868b0165b9cdb0c9ce307e84046f0208ff8a49a0cfa35b99795e52d0278/dadaptation-1.1.tar.gz","yanked":false,"yanked_reason":null}],"1.2":[{"comment_text":"","digests":{"blake2b_256":"d7dff221401d085bcdc4161933fc4f9153718afef197c51cdd0831fedc7ccfdd","md5":"7e01ae397446a8e201767c436d6eeb68","sha256":"938eccda83ee2c58f8db8647dfbef48ef597773a0a1301e6a21ba4b5b4855503"},"downloads":-1,"filename":"dadaptation-1.2.tar.gz","has_sig":false,"md5_digest":"7e01ae397446a8e201767c436d6eeb68","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":7624,"upload_time":"2023-01-20T15:41:48","upload_time_iso_8601":"2023-01-20T15:41:48.526803Z","url":"https://files.pythonhosted.org/packages/d7/df/f221401d085bcdc4161933fc4f9153718afef197c51cdd0831fedc7ccfdd/dadaptation-1.2.tar.gz","yanked":false,"yanked_reason":null}],"1.3":[{"comment_text":"","digests":{"blake2b_256":"dee2816eb9f071b4746a4ab8d2527263d06d03869b96c696f589aaba3e1a7907","md5":"1eacf89ec0bfa16fa85c9497605600d5","sha256":"21feb88b6b0952e4cf2f2476b0d855058b54402a1ca990b7b44b888560bcd1c9"},"downloads":-1,"filename":"dadaptation-1.3.tar.gz","has_sig":false,"md5_digest":"1eacf89ec0bfa16fa85c9497605600d5","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":7626,"upload_time":"2023-01-20T15:44:42","upload_time_iso_8601":"2023-01-20T15:44:42.407713Z","url":"https://files.pythonhosted.org/packages/de/e2/816eb9f071b4746a4ab8d2527263d06d03869b96c696f589aaba3e1a7907/dadaptation-1.3.tar.gz","yanked":false,"yanked_reason":null}],"1.4":[{"comment_text":"","digests":{"blake2b_256":"27aacc96d73cffe003d133d4b391a7ad1a52fbccc0ed853f779a4622ffd5f6da","md5":"cb997df760a13a294d4318308fe373ef","sha256":"d171c93584574770933ba3dd2938f224767a53adc11f571014d9ae04acaf5c70"},"downloads":-1,"filename":"dadaptation-1.4.tar.gz","has_sig":false,"md5_digest":"cb997df760a13a294d4318308fe373ef","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":8291,"upload_time":"2023-01-25T15:52:54","upload_time_iso_8601":"2023-01-25T15:52:54.198353Z","url":"https://files.pythonhosted.org/packages/27/aa/cc96d73cffe003d133d4b391a7ad1a52fbccc0ed853f779a4622ffd5f6da/dadaptation-1.4.tar.gz","yanked":false,"yanked_reason":null}],"1.5":[{"comment_text":"","digests":{"blake2b_256":"0c232eca6877006e8ae42a24ca225a64d1efcc1cb0c2be5347c8676fdd06916a","md5":"3e7d70b8898922adb57815a335db6e65","sha256":"f9f2af063476d32c68ac8581f88636dd0c5f08b903ca63a660737eb1fece7829"},"downloads":-1,"filename":"dadaptation-1.5.tar.gz","has_sig":false,"md5_digest":"3e7d70b8898922adb57815a335db6e65","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":8277,"upload_time":"2023-01-26T16:17:10","upload_time_iso_8601":"2023-01-26T16:17:10.042585Z","url":"https://files.pythonhosted.org/packages/0c/23/2eca6877006e8ae42a24ca225a64d1efcc1cb0c2be5347c8676fdd06916a/dadaptation-1.5.tar.gz","yanked":false,"yanked_reason":null}],"2.0":[{"comment_text":"","digests":{"blake2b_256":"c307750b589521325d74f4144fa8ccff07c9ce61b339e27791d8a06650e07d22","md5":"a2483bf772109ba6ce26f4eca43196d3","sha256":"3c746d355390bd49545d6bca544fa5803b77515446465f8f4c889821583c9112"},"downloads":-1,"filename":"dadaptation-2.0-py3-none-any.whl","has_sig":false,"md5_digest":"a2483bf772109ba6ce26f4eca43196d3","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.6","size":22324,"upload_time":"2023-04-20T15:42:52","upload_time_iso_8601":"2023-04-20T15:42:52.249256Z","url":"https://files.pythonhosted.org/packages/c3/07/750b589521325d74f4144fa8ccff07c9ce61b339e27791d8a06650e07d22/dadaptation-2.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"aeea674a4143de5c54f409ec4ae1ee7133c2a5446b9d81c6c040c3b5514ffe64","md5":"cd46e65998c79cd725681b5db40124f9","sha256":"07c750ca6345bc3fed019e922a40f6f47b1f041e29c9e9ded8b1a2638356fb01"},"downloads":-1,"filename":"dadaptation-2.0.tar.gz","has_sig":false,"md5_digest":"cd46e65998c79cd725681b5db40124f9","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":10693,"upload_time":"2023-04-20T15:42:53","upload_time_iso_8601":"2023-04-20T15:42:53.796307Z","url":"https://files.pythonhosted.org/packages/ae/ea/674a4143de5c54f409ec4ae1ee7133c2a5446b9d81c6c040c3b5514ffe64/dadaptation-2.0.tar.gz","yanked":false,"yanked_reason":null}],"3.0":[{"comment_text":"","digests":{"blake2b_256":"afce5663e15969461d8294b6c09ed02584a8a1ae1eadf1b9d36434a5eba640a5","md5":"c34a7ed7ce76aeb9606b12c2ecb8f262","sha256":"8081d076aa70b59672d202b0fa2d5f07e3744cff58a95b6d9eb86e3fd864e6fb"},"downloads":-1,"filename":"dadaptation-3.0.tar.gz","has_sig":false,"md5_digest":"c34a7ed7ce76aeb9606b12c2ecb8f262","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":12322,"upload_time":"2023-05-22T15:07:16","upload_time_iso_8601":"2023-05-22T15:07:16.669486Z","url":"https://files.pythonhosted.org/packages/af/ce/5663e15969461d8294b6c09ed02584a8a1ae1eadf1b9d36434a5eba640a5/dadaptation-3.0.tar.gz","yanked":false,"yanked_reason":null}],"3.1":[{"comment_text":"","digests":{"blake2b_256":"65ff9adab73dae392620c81fbae54aa2667a3a22d72ffa269c45d637e6274e8f","md5":"fd546f1180cbd205c02cdffede3e392b","sha256":"aa4159c99f31b4103a530cf9e7a1b776912e61c317ff684b271751d4d1832df7"},"downloads":-1,"filename":"dadaptation-3.1.tar.gz","has_sig":false,"md5_digest":"fd546f1180cbd205c02cdffede3e392b","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":13087,"upload_time":"2023-05-25T14:32:46","upload_time_iso_8601":"2023-05-25T14:32:46.904116Z","url":"https://files.pythonhosted.org/packages/65/ff/9adab73dae392620c81fbae54aa2667a3a22d72ffa269c45d637e6274e8f/dadaptation-3.1.tar.gz","yanked":false,"yanked_reason":null}],"3.2":[{"comment_text":"","digests":{"blake2b_256":"d646d6fb2546c58a1abdd804ad5c8a1a53314a669fbb64ca97281931942928fd","md5":"a6f859461d4939b79b0c1983ec271b29","sha256":"de8e8289d56bfdee0c8e3ca353143295d8a48363bcb02d6868a708354b47ccc0"},"downloads":-1,"filename":"dadaptation-3.2.tar.gz","has_sig":false,"md5_digest":"a6f859461d4939b79b0c1983ec271b29","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":13761,"upload_time":"2023-11-27T16:44:15","upload_time_iso_8601":"2023-11-27T16:44:15.591892Z","url":"https://files.pythonhosted.org/packages/d6/46/d6fb2546c58a1abdd804ad5c8a1a53314a669fbb64ca97281931942928fd/dadaptation-3.2.tar.gz","yanked":false,"yanked_reason":null}]},"urls":[{"comment_text":"","digests":{"blake2b_256":"d646d6fb2546c58a1abdd804ad5c8a1a53314a669fbb64ca97281931942928fd","md5":"a6f859461d4939b79b0c1983ec271b29","sha256":"de8e8289d56bfdee0c8e3ca353143295d8a48363bcb02d6868a708354b47ccc0"},"downloads":-1,"filename":"dadaptation-3.2.tar.gz","has_sig":false,"md5_digest":"a6f859461d4939b79b0c1983ec271b29","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":13761,"upload_time":"2023-11-27T16:44:15","upload_time_iso_8601":"2023-11-27T16:44:15.591892Z","url":"https://files.pythonhosted.org/packages/d6/46/d6fb2546c58a1abdd804ad5c8a1a53314a669fbb64ca97281931942928fd/dadaptation-3.2.tar.gz","yanked":false,"yanked_reason":null}],"vulnerabilities":[]}
