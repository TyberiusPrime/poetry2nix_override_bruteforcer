{"info":{"author":"chemaaa","author_email":"chemaaar@gmail.com","bugtrack_url":null,"classifiers":["Development Status :: 3 - Alpha","Framework :: AsyncIO","Framework :: Pytest","Intended Audience :: Developers","License :: OSI Approved :: GNU General Public License v3 (GPLv3)","Natural Language :: English","Operating System :: OS Independent","Programming Language :: Python :: 3","Topic :: Home Automation","Topic :: Software Development :: Libraries :: Python Modules"],"description":"# Home + Control\nThis is a basic Python library that interacts with the *Legrand Home + Control* API. It is \nprimarily intended for integration into Smart Home platforms such as Home Assistant.\n\nMore information of the API can be found here: https://developer.legrand.com/\n\nThe library currently supports 4 types of Legrand modules:\n\n1) Plugs (power outlets)\n2) Lights (connected switches)\n3) Remotes (wireless switches)\n4) Automations (shutters/covers)\n\nThe first two - plugs and lights - are modeled as basic switches that can be interacted with to set their status to *on* or *off*.\nRemotes are presented as passive modules that only have a battery level attribute.\nAutomations can be issued commands to open or close to their full positions and to be stopped during the motion.\n\nA 'home' is represented by a *plant* which presents all of its corresponding modules in a topology. A *plant* is basically a \nLegrand Home+ Control gateway.\n\nThe status of each module in the *plant* can be accessed through a single *status* call to the *plant* or through individual *status* \ncalls to each module.\n\n## Authentication\nThe *Legrand Home + Control* API uses Oauth2 authentication, so you must first register an account at https://developer.legrand.com/. \n\nOnce registered, you will then need to create a subscription to the *Starter Kit* (currently the only subscription available) and this will\ngenerate your SUBSCRIPTION_KEY.\n\nAs a final step, you will have to register an Application, where you will have to define a name, a redirect URL and the scopes of your application\n(for simplicity you can mark all scopes). \n\nOnce the Application is confirmed, you should receive an email containing the CLIENT_IDENTIFIER and\nthe CLIENT_SECRET which you will be using to set up the authentication flows.\n\n### Authentication Flow\nCommunication with the API, first requires Oauth2 authentication to obtain an access and a refresh token. Subsequent requests to the API, require the use of the SUBSCRIPTION_KEY in addition to the access token.\n\nInformation about the Oauth2 exchange is provided here: https://developer.legrand.com/tutorials/0auth2-end-point-url/\n\n## Quickstart\nInstall `homepluscontrol` using `pip`: \n\n    $ pip install homepluscontrol\n\n### Usage Example\nThe following script is a simple example of how this Python library can be used::\n\n```python\nfrom homepluscontrol import authentication, homeplusplant\nimport asyncio\n\nclient_id = 'YOUR_CLIENT_IDENTIFIER'\nclient_secret = 'YOUR_CLIENT_SECRET'\nsubscription_key = 'YOUR_SUBSCRIPTION_KEY'\nredirect_uri = 'https://www.example.com'\n\ndummy_token = \n    {\"refresh_token\": \n        \"dummy-refresh-token\", \n        \"access_token\": \"dummy-access-token\", \n        \"expires_at\": -1, \n        \"expires_on\": -1}\napi_plant_url = 'https://api.developer.legrand.com/hc/api/v1.0/plants'\n\n# Create the asynchronous client to handle the authentication \n# process and the authenitcated requests\nclient = authentication.HomePlusOAuth2Async(client_id, \n                                            client_secret, \n                                            subscription_key, \n                                            token=dummy_token, \n                                            redirect_uri=redirect_uri)\n\n# The URL returned by this method launches the Oauth2 flow and \n# allows a user to confirm the process.\n# Doing so redirects the user's browser/client to the redirect URI\n# and includes the code and the state for the next step.\nauthorization_url = client.generate_authorize_url()\nprint(authorization_url)\n\n# Here is where you can enter the complete redirect URL\nreturn_url = input('Redirect URL received:')\n\n# This function will now handle the asynchronous calls to the API\nasync def interact_with_api():\n    token = await client.async_fetch_initial_token(return_url)\n    print(token)\n    # The client now has a valid token and can be used \n    # to interact with the API.\n    \n    # First get the plant information\n    result = await client.request('get', api_plant_url)\n    plant_info = await result.json()\n    print(plant_info)\n    plant_array = []\n    for p in plant_info['plants']:\n        plant_array.append(\n            homeplusplant.HomePlusPlant(p['id'], \n                                        p['name'], \n                                        p['country'], \n                                        client)\n        )\n    plant = plant_array[0]\n    print(plant)\n    \n    # Next read the module information for the plant\n    await plant.update_topology_and_modules()\n    for mod_id in plant.modules.keys():\n            print(plant.modules[mod_id])\n    # Close the client session\n    await client.oauth_client.close()\n\nloop = asyncio.get_event_loop()\nloop.run_until_complete(interact_with_api())\n```\n\n## Testing\n`homepluscontrol` tests are based on `pytest`. To run, change to the root directory of `homepluscontrol` and use the command: \n\n    $ pip install -r requirements.txt\n    $ pip install -r requirements_test.txt\n    $ pytest \n\n","description_content_type":"text/markdown","docs_url":null,"download_url":"","downloads":{"last_day":-1,"last_month":-1,"last_week":-1},"dynamic":null,"home_page":"https://github.com/chemaaa/homepluscontrol","keywords":"","license":"GPLv3","maintainer":"","maintainer_email":"","name":"homepluscontrol","package_url":"https://pypi.org/project/homepluscontrol/","platform":"","project_url":"https://pypi.org/project/homepluscontrol/","project_urls":{"Homepage":"https://github.com/chemaaa/homepluscontrol"},"provides_extra":null,"release_url":"https://pypi.org/project/homepluscontrol/0.1/","requires_dist":["aiohttp (>=3.7.1)","PyJWT (>=1.7.1)","yarl (>=1.4.2)"],"requires_python":">=3.6","summary":"Python-based API to interact with the Legrand Home + Control interface","version":"0.1","yanked":false,"yanked_reason":null},"last_serial":11673713,"releases":{"0.0.3":[{"comment_text":"","digests":{"blake2b_256":"aec20611e9ef1436462f1bf208fb6ec5d2dc5b8d059eaef5de6cd402ffb0a58a","md5":"4625428999367568dc18796b0630d9c4","sha256":"1d51ed85a97a31d4176216bda158afd8920400a0aa5505a54054300257428ba6"},"downloads":-1,"filename":"homepluscontrol-0.0.3-py3-none-any.whl","has_sig":false,"md5_digest":"4625428999367568dc18796b0630d9c4","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.6","size":35351,"upload_time":"2021-02-14T08:46:54","upload_time_iso_8601":"2021-02-14T08:46:54.366631Z","url":"https://files.pythonhosted.org/packages/ae/c2/0611e9ef1436462f1bf208fb6ec5d2dc5b8d059eaef5de6cd402ffb0a58a/homepluscontrol-0.0.3-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"7d3188960189b2ab06756c990b9138d58f5a55acc6333064eaa6eb9dab8529a6","md5":"a323561746abb8d355eb347a41981bc6","sha256":"795a082fd2afcf5768b301caa8950cf515a5816d0bf2902e98e5fafc69ba4d0b"},"downloads":-1,"filename":"homepluscontrol-0.0.3.tar.gz","has_sig":false,"md5_digest":"a323561746abb8d355eb347a41981bc6","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":19319,"upload_time":"2021-02-14T08:46:55","upload_time_iso_8601":"2021-02-14T08:46:55.744333Z","url":"https://files.pythonhosted.org/packages/7d/31/88960189b2ab06756c990b9138d58f5a55acc6333064eaa6eb9dab8529a6/homepluscontrol-0.0.3.tar.gz","yanked":false,"yanked_reason":null}],"0.0.4":[{"comment_text":"","digests":{"blake2b_256":"1fbe6db0772df00e947cc83340883265a60ff3160f1a12faa1b3d3b503123f16","md5":"222b9c9e9ab322882a6ee4360239bafd","sha256":"25d89e19b10aec32137e1d8cac8a95ac30336a08ec7a91701f657824b41db902"},"downloads":-1,"filename":"homepluscontrol-0.0.4-py3-none-any.whl","has_sig":false,"md5_digest":"222b9c9e9ab322882a6ee4360239bafd","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.6","size":39134,"upload_time":"2021-03-13T18:17:57","upload_time_iso_8601":"2021-03-13T18:17:57.957111Z","url":"https://files.pythonhosted.org/packages/1f/be/6db0772df00e947cc83340883265a60ff3160f1a12faa1b3d3b503123f16/homepluscontrol-0.0.4-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"3eeb9c4998c6d9dfaa8058d2a35fee89d331492ec6c49bdb24295edc70538c13","md5":"845572f0b100ad3ad1164bbd8d87fee2","sha256":"dd418f4d576f04f8faefe7acb34d6ffdb342cac873073aee00022a75310f14b0"},"downloads":-1,"filename":"homepluscontrol-0.0.4.tar.gz","has_sig":false,"md5_digest":"845572f0b100ad3ad1164bbd8d87fee2","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":22139,"upload_time":"2021-03-13T18:17:59","upload_time_iso_8601":"2021-03-13T18:17:59.283773Z","url":"https://files.pythonhosted.org/packages/3e/eb/9c4998c6d9dfaa8058d2a35fee89d331492ec6c49bdb24295edc70538c13/homepluscontrol-0.0.4.tar.gz","yanked":false,"yanked_reason":null}],"0.0.5":[{"comment_text":"","digests":{"blake2b_256":"f690381f5e9ee82b6346c29079619f4c4f410fbb3a8eceb4a4c75d6ba276782b","md5":"09cf7f518550ce5e988779cadd4752d4","sha256":"432b9589ff104896d23e09373ba1e9b7fae150972ff9b676a67838a3b73bdd74"},"downloads":-1,"filename":"homepluscontrol-0.0.5-py3-none-any.whl","has_sig":false,"md5_digest":"09cf7f518550ce5e988779cadd4752d4","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.6","size":38714,"upload_time":"2021-03-20T19:24:29","upload_time_iso_8601":"2021-03-20T19:24:29.095715Z","url":"https://files.pythonhosted.org/packages/f6/90/381f5e9ee82b6346c29079619f4c4f410fbb3a8eceb4a4c75d6ba276782b/homepluscontrol-0.0.5-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"f028951347f9fe36bc842c320729ea57dcc49a6a8f9521c7114fe961fa40d999","md5":"eaded45114cab15fa796d29f594e2149","sha256":"c5f567289a03bdd693bf7c0916d54a13687f436cae549342343cbe860633e46a"},"downloads":-1,"filename":"homepluscontrol-0.0.5.tar.gz","has_sig":false,"md5_digest":"eaded45114cab15fa796d29f594e2149","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":21691,"upload_time":"2021-03-20T19:24:30","upload_time_iso_8601":"2021-03-20T19:24:30.208097Z","url":"https://files.pythonhosted.org/packages/f0/28/951347f9fe36bc842c320729ea57dcc49a6a8f9521c7114fe961fa40d999/homepluscontrol-0.0.5.tar.gz","yanked":false,"yanked_reason":null}],"0.0.6":[{"comment_text":"","digests":{"blake2b_256":"a2967119f3b55d426c9a45e9f2dfdd1b49c127b87e341317a776b39301d015d4","md5":"40442dc69efc70106ff5fd2bd3b5c632","sha256":"8cb12eb19f5a54f8e172df5dff2d800c6a32d3ddad44e2ed5bc1ea64e4ddeb55"},"downloads":-1,"filename":"homepluscontrol-0.0.6-py3-none-any.whl","has_sig":false,"md5_digest":"40442dc69efc70106ff5fd2bd3b5c632","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.6","size":33257,"upload_time":"2021-07-17T07:53:59","upload_time_iso_8601":"2021-07-17T07:53:59.124404Z","url":"https://files.pythonhosted.org/packages/a2/96/7119f3b55d426c9a45e9f2dfdd1b49c127b87e341317a776b39301d015d4/homepluscontrol-0.0.6-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"920bd64c47aec0a63499dff2e280cb39d749fa8f3ca349764c6b74db696f5caa","md5":"c986b585d5e311b16082127bf9d90a22","sha256":"02f06caea3aac014f4fced71c3aac3eadc3c328544c7aaea57de124cfb47f150"},"downloads":-1,"filename":"homepluscontrol-0.0.6.tar.gz","has_sig":false,"md5_digest":"c986b585d5e311b16082127bf9d90a22","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":36247,"upload_time":"2021-07-17T07:54:00","upload_time_iso_8601":"2021-07-17T07:54:00.496376Z","url":"https://files.pythonhosted.org/packages/92/0b/d64c47aec0a63499dff2e280cb39d749fa8f3ca349764c6b74db696f5caa/homepluscontrol-0.0.6.tar.gz","yanked":false,"yanked_reason":null}],"0.0.61":[{"comment_text":"","digests":{"blake2b_256":"be4cd7f7643b2b4255f6e747614d6b8de955bfe715cd4d8dc2b194c5a886e39c","md5":"d476881f016e0ec603ab47118093bbbf","sha256":"73d537884084679a2e52f4f3d756d438c8befc6de660a74b0864724f52b97594"},"downloads":-1,"filename":"homepluscontrol-0.0.61-py3-none-any.whl","has_sig":false,"md5_digest":"d476881f016e0ec603ab47118093bbbf","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.6","size":33260,"upload_time":"2021-07-18T09:31:43","upload_time_iso_8601":"2021-07-18T09:31:43.637783Z","url":"https://files.pythonhosted.org/packages/be/4c/d7f7643b2b4255f6e747614d6b8de955bfe715cd4d8dc2b194c5a886e39c/homepluscontrol-0.0.61-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"c1960af38bfe1220286f2194e98ee49a930bb0788883c15fbfc7c0c10b3fe72b","md5":"2a0d5af8fe64bb72cc11a4e57c452351","sha256":"3c108e409a23f68332716a8b813c06f923f4bbc2c360f8e0fc813df33fec5aa0"},"downloads":-1,"filename":"homepluscontrol-0.0.61.tar.gz","has_sig":false,"md5_digest":"2a0d5af8fe64bb72cc11a4e57c452351","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":36257,"upload_time":"2021-07-18T09:31:44","upload_time_iso_8601":"2021-07-18T09:31:44.962911Z","url":"https://files.pythonhosted.org/packages/c1/96/0af38bfe1220286f2194e98ee49a930bb0788883c15fbfc7c0c10b3fe72b/homepluscontrol-0.0.61.tar.gz","yanked":false,"yanked_reason":null}],"0.1":[{"comment_text":"","digests":{"blake2b_256":"e44624bd71e0f9ba6cf9c9c46ca9cfbdd740cb5c475c75cbdafb9beb62e23c58","md5":"8412762123d0a8960d65fcf06cb6008e","sha256":"7b03af9caca58b8deae7a68449caf4cb9ba9044663b3b0f9d70a886252e6e12f"},"downloads":-1,"filename":"homepluscontrol-0.1-py3-none-any.whl","has_sig":false,"md5_digest":"8412762123d0a8960d65fcf06cb6008e","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.6","size":33087,"upload_time":"2021-10-09T07:12:39","upload_time_iso_8601":"2021-10-09T07:12:39.607904Z","url":"https://files.pythonhosted.org/packages/e4/46/24bd71e0f9ba6cf9c9c46ca9cfbdd740cb5c475c75cbdafb9beb62e23c58/homepluscontrol-0.1-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"3336c09919a84ae317c85a4e7db2929a1f38ffd0abf6f259bc5847bc526d66a3","md5":"3ddaada6b40caccbd431f42dce64b925","sha256":"32c91ea7b826e7de80787eb60792e7bc281446a68c615b367e64b7e67c0ef5fd"},"downloads":-1,"filename":"homepluscontrol-0.1.tar.gz","has_sig":false,"md5_digest":"3ddaada6b40caccbd431f42dce64b925","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":36161,"upload_time":"2021-10-09T07:12:40","upload_time_iso_8601":"2021-10-09T07:12:40.908882Z","url":"https://files.pythonhosted.org/packages/33/36/c09919a84ae317c85a4e7db2929a1f38ffd0abf6f259bc5847bc526d66a3/homepluscontrol-0.1.tar.gz","yanked":false,"yanked_reason":null}]},"urls":[{"comment_text":"","digests":{"blake2b_256":"e44624bd71e0f9ba6cf9c9c46ca9cfbdd740cb5c475c75cbdafb9beb62e23c58","md5":"8412762123d0a8960d65fcf06cb6008e","sha256":"7b03af9caca58b8deae7a68449caf4cb9ba9044663b3b0f9d70a886252e6e12f"},"downloads":-1,"filename":"homepluscontrol-0.1-py3-none-any.whl","has_sig":false,"md5_digest":"8412762123d0a8960d65fcf06cb6008e","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.6","size":33087,"upload_time":"2021-10-09T07:12:39","upload_time_iso_8601":"2021-10-09T07:12:39.607904Z","url":"https://files.pythonhosted.org/packages/e4/46/24bd71e0f9ba6cf9c9c46ca9cfbdd740cb5c475c75cbdafb9beb62e23c58/homepluscontrol-0.1-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"3336c09919a84ae317c85a4e7db2929a1f38ffd0abf6f259bc5847bc526d66a3","md5":"3ddaada6b40caccbd431f42dce64b925","sha256":"32c91ea7b826e7de80787eb60792e7bc281446a68c615b367e64b7e67c0ef5fd"},"downloads":-1,"filename":"homepluscontrol-0.1.tar.gz","has_sig":false,"md5_digest":"3ddaada6b40caccbd431f42dce64b925","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":36161,"upload_time":"2021-10-09T07:12:40","upload_time_iso_8601":"2021-10-09T07:12:40.908882Z","url":"https://files.pythonhosted.org/packages/33/36/c09919a84ae317c85a4e7db2929a1f38ffd0abf6f259bc5847bc526d66a3/homepluscontrol-0.1.tar.gz","yanked":false,"yanked_reason":null}],"vulnerabilities":[]}
