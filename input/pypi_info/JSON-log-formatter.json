{"info":{"author":"Marsel Mavletkulov","author_email":"","bugtrack_url":null,"classifiers":["Intended Audience :: Developers","License :: OSI Approved :: MIT License","Operating System :: OS Independent","Programming Language :: Python","Programming Language :: Python :: 3","Topic :: Software Development :: Libraries :: Python Modules"],"description":"=====================\nJSON log formatter ðŸªµ\n=====================\n\nThe library helps you to store logs in JSON format. Why is it important?\nWell, it facilitates integration with **Logstash**.\n\nUsage example:\n\n.. code-block:: python\n\n    import logging\n\n    import json_log_formatter\n\n    formatter = json_log_formatter.JSONFormatter()\n\n    json_handler = logging.FileHandler(filename='/var/log/my-log.json')\n    json_handler.setFormatter(formatter)\n\n    logger = logging.getLogger('my_json')\n    logger.addHandler(json_handler)\n    logger.setLevel(logging.INFO)\n\n    logger.info('Sign up', extra={'referral_code': '52d6ce'})\n\n    try:\n        raise ValueError('something wrong')\n    except ValueError:\n        logger.error('Request failed', exc_info=True)\n\nThe log file will contain the following log record (inline).\n\n.. code-block:: json\n\n    {\n        \"message\": \"Sign up\",\n        \"time\": \"2015-09-01T06:06:26.524448\",\n        \"referral_code\": \"52d6ce\"\n    }\n    {\n        \"message\": \"Request failed\",\n        \"time\": \"2015-09-01T06:06:26.524449\",\n        \"exc_info\": \"Traceback (most recent call last): ...\"\n    }\n\nIf you use a log collection and analysis system,\nyou might need to include the built-in\n`log record attributes <https://docs.python.org/3/library/logging.html#logrecord-attributes>`_\nwith ``VerboseJSONFormatter``.\n\n.. code-block:: python\n\n    json_handler.setFormatter(json_log_formatter.VerboseJSONFormatter())\n    logger.error('An error has occured')\n\n.. code-block:: json\n\n    {\n        \"filename\": \"tests.py\",\n        \"funcName\": \"test_file_name_is_testspy\",\n        \"levelname\": \"ERROR\",\n        \"lineno\": 276,\n        \"module\": \"tests\",\n        \"name\": \"my_json\",\n        \"pathname\": \"/Users/bob/json-log-formatter/tests.py\",\n        \"process\": 3081,\n        \"processName\": \"MainProcess\",\n        \"stack_info\": null,\n        \"thread\": 4664270272,\n        \"threadName\": \"MainThread\",\n        \"message\": \"An error has occured\",\n        \"time\": \"2021-07-04T21:05:42.767726\"\n    }\n\nJSON libraries\n--------------\n\nYou can use **ujson** or **simplejson** instead of built-in **json** library.\n\n.. code-block:: python\n\n    import json_log_formatter\n    import ujson\n\n    formatter = json_log_formatter.JSONFormatter()\n    formatter.json_lib = ujson\n\nNote, **ujson** doesn't support ``dumps(default=f)`` argument:\nif it can't serialize an attribute, it might fail with ``TypeError`` or skip an attribute.\n\nDjango integration\n------------------\n\nHere is an example of how the JSON formatter can be used with Django.\n\n.. code-block:: python\n\n    LOGGING['formatters']['json'] = {\n        '()': 'json_log_formatter.JSONFormatter',\n    }\n    LOGGING['handlers']['json_file'] = {\n        'level': 'INFO',\n        'class': 'logging.FileHandler',\n        'filename': '/var/log/my-log.json',\n        'formatter': 'json',\n    }\n    LOGGING['loggers']['my_json'] = {\n        'handlers': ['json_file'],\n        'level': 'INFO',\n    }\n\nLet's try to log something.\n\n.. code-block:: python\n\n    import logging\n\n    logger = logging.getLogger('my_json')\n\n    logger.info('Sign up', extra={'referral_code': '52d6ce'})\n\nCustom formatter\n----------------\n\nYou will likely need a custom log formatter. For instance, you want to log\na user ID, an IP address and ``time`` as ``django.utils.timezone.now()``.\nTo do so you should override ``JSONFormatter.json_record()``.\n\n.. code-block:: python\n\n    class CustomisedJSONFormatter(json_log_formatter.JSONFormatter):\n        def json_record(self, message: str, extra: dict, record: logging.LogRecord) -> dict:\n            extra['message'] = message\n            extra['user_id'] = current_user_id()\n            extra['ip'] = current_ip()\n\n            # Include builtins\n            extra['level'] = record.levelname\n            extra['name'] = record.name\n\n            if 'time' not in extra:\n                extra['time'] = django.utils.timezone.now()\n\n            if record.exc_info:\n                extra['exc_info'] = self.formatException(record.exc_info)\n\n            return extra\n\nLet's say you want ``datetime`` to be serialized as timestamp.\nYou can use **ujson** (which does it by default) and disable\nISO8601 date mutation.\n\n.. code-block:: python\n\n    class CustomisedJSONFormatter(json_log_formatter.JSONFormatter):\n        json_lib = ujson\n\n        def mutate_json_record(self, json_record):\n            return json_record\n\nTests\n-----\n\n.. code-block:: console\n\n    $ pip install -r requirements.txt\n    $ tox\n","description_content_type":"text/x-rst","docs_url":null,"download_url":"","downloads":{"last_day":-1,"last_month":-1,"last_week":-1},"dynamic":null,"home_page":"https://github.com/marselester/json-log-formatter","keywords":"","license":"MIT","maintainer":"","maintainer_email":"","name":"JSON-log-formatter","package_url":"https://pypi.org/project/JSON-log-formatter/","platform":null,"project_url":"https://pypi.org/project/JSON-log-formatter/","project_urls":{"Homepage":"https://github.com/marselester/json-log-formatter","repository":"https://github.com/marselester/json-log-formatter"},"provides_extra":null,"release_url":"https://pypi.org/project/JSON-log-formatter/1.0/","requires_dist":null,"requires_python":">=3.6","summary":"JSON log formatter","version":"1.0","yanked":false,"yanked_reason":null},"last_serial":22247914,"releases":{"0.0.1":[{"comment_text":"","digests":{"blake2b_256":"8d39008311a80cc948b314e9473443e9e5408e8794c0043daa5306115ee938eb","md5":"7a1332e67cb6eb1c5b8768ef61270618","sha256":"ac134a88de0f0e527deab0c729bc3255cc73f40a53ce99efccf89a53b844cda5"},"downloads":-1,"filename":"JSON-log-formatter-0.0.1.tar.gz","has_sig":false,"md5_digest":"7a1332e67cb6eb1c5b8768ef61270618","packagetype":"sdist","python_version":"source","requires_python":null,"size":1896,"upload_time":"2015-09-01T07:53:46","upload_time_iso_8601":"2015-09-01T07:53:46.413559Z","url":"https://files.pythonhosted.org/packages/8d/39/008311a80cc948b314e9473443e9e5408e8794c0043daa5306115ee938eb/JSON-log-formatter-0.0.1.tar.gz","yanked":false,"yanked_reason":null}],"0.0.2":[{"comment_text":"","digests":{"blake2b_256":"c43552363d4d55cd5cf45ce33f22a882674a33baa850162c59fce512341f3ed1","md5":"c8efc716ed9ea5fb5069c2c7ce804215","sha256":"99e5220208871f8b6c01e173bdc6fa341869463b3c3a75b759abe8c214d1c110"},"downloads":-1,"filename":"JSON-log-formatter-0.0.2.tar.gz","has_sig":false,"md5_digest":"c8efc716ed9ea5fb5069c2c7ce804215","packagetype":"sdist","python_version":"source","requires_python":null,"size":2712,"upload_time":"2015-09-01T11:58:57","upload_time_iso_8601":"2015-09-01T11:58:57.202923Z","url":"https://files.pythonhosted.org/packages/c4/35/52363d4d55cd5cf45ce33f22a882674a33baa850162c59fce512341f3ed1/JSON-log-formatter-0.0.2.tar.gz","yanked":false,"yanked_reason":null}],"0.1.0":[{"comment_text":"","digests":{"blake2b_256":"4683a51e7ed83d0345ff6bb63d4f6d8c1fbfc388efafaabab9ccb4064daffef3","md5":"7c4bb3a3e0e99229dfd73c7874b85c0d","sha256":"acbcede787875ed5ed4cdd157e531d44c76545d523b41e1d4e4e59df493aeb7b"},"downloads":-1,"filename":"JSON-log-formatter-0.1.0.tar.gz","has_sig":false,"md5_digest":"7c4bb3a3e0e99229dfd73c7874b85c0d","packagetype":"sdist","python_version":"source","requires_python":null,"size":2836,"upload_time":"2016-05-19T14:21:16","upload_time_iso_8601":"2016-05-19T14:21:16.414438Z","url":"https://files.pythonhosted.org/packages/46/83/a51e7ed83d0345ff6bb63d4f6d8c1fbfc388efafaabab9ccb4064daffef3/JSON-log-formatter-0.1.0.tar.gz","yanked":false,"yanked_reason":null}],"0.2.0":[{"comment_text":"","digests":{"blake2b_256":"1759496f7b4321d2b8d3cfa6d59459a2811747f37bdd5ceb73d913af019fc6ce","md5":"8fa4b8704bd23ebd653185862648b259","sha256":"8bb02773a37274c08f4de748e3accbed269c8395d27149bc2e7e9109af342eee"},"downloads":-1,"filename":"JSON_log_formatter-0.2.0-py2-none-any.whl","has_sig":false,"md5_digest":"8fa4b8704bd23ebd653185862648b259","packagetype":"bdist_wheel","python_version":"2.7","requires_python":null,"size":5712,"upload_time":"2017-03-02T08:58:53","upload_time_iso_8601":"2017-03-02T08:58:53.108298Z","url":"https://files.pythonhosted.org/packages/17/59/496f7b4321d2b8d3cfa6d59459a2811747f37bdd5ceb73d913af019fc6ce/JSON_log_formatter-0.2.0-py2-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"402503b613db3ef5a3acc778d170573b35985b246e995061657afdbc1341ed8e","md5":"4ed6080fb65704d856691260e19cacff","sha256":"cdc1f1dabc0b9c808ed4e4f26e73885a9e7955bf7190dd9f1b86be967feb5b29"},"downloads":-1,"filename":"JSON-log-formatter-0.2.0.tar.gz","has_sig":false,"md5_digest":"4ed6080fb65704d856691260e19cacff","packagetype":"sdist","python_version":"source","requires_python":null,"size":3362,"upload_time":"2017-03-02T08:58:50","upload_time_iso_8601":"2017-03-02T08:58:50.191541Z","url":"https://files.pythonhosted.org/packages/40/25/03b613db3ef5a3acc778d170573b35985b246e995061657afdbc1341ed8e/JSON-log-formatter-0.2.0.tar.gz","yanked":false,"yanked_reason":null}],"0.3.0":[{"comment_text":"","digests":{"blake2b_256":"2a51603c3cedc789617556248b51bdc941e967fc068902e754c1475774161d7a","md5":"b757c635dc55cf02371c01552c6068f5","sha256":"ee187c9a80936cbf1259f73573973450fc24b84a4fb54e53eb0dcff86ea1e759"},"downloads":-1,"filename":"JSON-log-formatter-0.3.0.tar.gz","has_sig":false,"md5_digest":"b757c635dc55cf02371c01552c6068f5","packagetype":"sdist","python_version":"source","requires_python":null,"size":3313,"upload_time":"2020-02-08T02:12:58","upload_time_iso_8601":"2020-02-08T02:12:58.749928Z","url":"https://files.pythonhosted.org/packages/2a/51/603c3cedc789617556248b51bdc941e967fc068902e754c1475774161d7a/JSON-log-formatter-0.3.0.tar.gz","yanked":false,"yanked_reason":null}],"0.3.1":[{"comment_text":"","digests":{"blake2b_256":"8d03d0c3361c4bbdcaeb2c6bacfde650eb5b31471d149a098525af436416f8ea","md5":"171e2c8a667b52f59094234dc8860515","sha256":"03029bddba697d2f6c81419a80f1c58d3a89ae715336c6a88b370e7d2c983198"},"downloads":-1,"filename":"JSON-log-formatter-0.3.1.tar.gz","has_sig":false,"md5_digest":"171e2c8a667b52f59094234dc8860515","packagetype":"sdist","python_version":"source","requires_python":null,"size":3706,"upload_time":"2021-04-13T00:33:05","upload_time_iso_8601":"2021-04-13T00:33:05.238984Z","url":"https://files.pythonhosted.org/packages/8d/03/d0c3361c4bbdcaeb2c6bacfde650eb5b31471d149a098525af436416f8ea/JSON-log-formatter-0.3.1.tar.gz","yanked":false,"yanked_reason":null}],"0.4.0":[{"comment_text":"","digests":{"blake2b_256":"7df62d2265a18b9643f4549093524c4cc0c7945b291468bee2ed6c30fd90f2f5","md5":"06ea40d7b7675ad941ea104059317a55","sha256":"3644f30233f22746fd181d1340cc8096520a4f464d18877270b8664554e61f81"},"downloads":-1,"filename":"JSON-log-formatter-0.4.0.tar.gz","has_sig":false,"md5_digest":"06ea40d7b7675ad941ea104059317a55","packagetype":"sdist","python_version":"source","requires_python":null,"size":4293,"upload_time":"2021-07-05T16:35:31","upload_time_iso_8601":"2021-07-05T16:35:31.038607Z","url":"https://files.pythonhosted.org/packages/7d/f6/2d2265a18b9643f4549093524c4cc0c7945b291468bee2ed6c30fd90f2f5/JSON-log-formatter-0.4.0.tar.gz","yanked":false,"yanked_reason":null}],"0.5.0":[{"comment_text":"","digests":{"blake2b_256":"16e913eadd1dd7b0d2d89beb288a858f63aa3cdc2552a7a076c9bfdeb8a52534","md5":"46f22ab7af3dc8e7fb0411e8baa919a7","sha256":"5cb983928260638347211df0f9ad399f16bd2bd1909b0b2c6f91ec6ddb09e21a"},"downloads":-1,"filename":"JSON-log-formatter-0.5.0.tar.gz","has_sig":false,"md5_digest":"46f22ab7af3dc8e7fb0411e8baa919a7","packagetype":"sdist","python_version":"source","requires_python":null,"size":4425,"upload_time":"2021-12-21T02:48:30","upload_time_iso_8601":"2021-12-21T02:48:30.767637Z","url":"https://files.pythonhosted.org/packages/16/e9/13eadd1dd7b0d2d89beb288a858f63aa3cdc2552a7a076c9bfdeb8a52534/JSON-log-formatter-0.5.0.tar.gz","yanked":false,"yanked_reason":null}],"0.5.1":[{"comment_text":"","digests":{"blake2b_256":"baef1d5ab3931cbfb37624b9ae81e1d44b090d578ddfc770c1c1658d4b7601c4","md5":"e607ef27f2ecdf26db942506ba3eca7c","sha256":"53246bcc5be5452bd46020326c50556ac6d35be20f00733d7235e0ca90d0c5f1"},"downloads":-1,"filename":"JSON-log-formatter-0.5.1.tar.gz","has_sig":false,"md5_digest":"e607ef27f2ecdf26db942506ba3eca7c","packagetype":"sdist","python_version":"source","requires_python":null,"size":4820,"upload_time":"2022-01-17T01:50:00","upload_time_iso_8601":"2022-01-17T01:50:00.007754Z","url":"https://files.pythonhosted.org/packages/ba/ef/1d5ab3931cbfb37624b9ae81e1d44b090d578ddfc770c1c1658d4b7601c4/JSON-log-formatter-0.5.1.tar.gz","yanked":false,"yanked_reason":null}],"0.5.2":[{"comment_text":"","digests":{"blake2b_256":"800fdaee9657d9860f505afab484b3d80f3f1f757ec3a65ab93212558cfac468","md5":"18ef338b3102bdeca8973e2d1c8a6808","sha256":"7b191ae4056468baf2b7445c5ce651bd9ee6b76b4162a479a7d85db6ae029f2d"},"downloads":-1,"filename":"JSON-log-formatter-0.5.2.tar.gz","has_sig":false,"md5_digest":"18ef338b3102bdeca8973e2d1c8a6808","packagetype":"sdist","python_version":"source","requires_python":">=2.7","size":5516,"upload_time":"2023-03-14T01:05:12","upload_time_iso_8601":"2023-03-14T01:05:12.919334Z","url":"https://files.pythonhosted.org/packages/80/0f/daee9657d9860f505afab484b3d80f3f1f757ec3a65ab93212558cfac468/JSON-log-formatter-0.5.2.tar.gz","yanked":false,"yanked_reason":null}],"1.0":[{"comment_text":"","digests":{"blake2b_256":"88bdb9857d3104ef12110612ebcd3b629903dd32f952bd2c1fae1a77d657544b","md5":"5990ad871b63adfaa0d7e13f055c126f","sha256":"fda3f943a2cddc4c8b0f06d57db5c53a903a1d4b6fc62416339d109e8c482ef7"},"downloads":-1,"filename":"JSON-log-formatter-1.0.tar.gz","has_sig":false,"md5_digest":"5990ad871b63adfaa0d7e13f055c126f","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":5477,"upload_time":"2024-03-10T00:30:52","upload_time_iso_8601":"2024-03-10T00:30:52.331326Z","url":"https://files.pythonhosted.org/packages/88/bd/b9857d3104ef12110612ebcd3b629903dd32f952bd2c1fae1a77d657544b/JSON-log-formatter-1.0.tar.gz","yanked":false,"yanked_reason":null}]},"urls":[{"comment_text":"","digests":{"blake2b_256":"88bdb9857d3104ef12110612ebcd3b629903dd32f952bd2c1fae1a77d657544b","md5":"5990ad871b63adfaa0d7e13f055c126f","sha256":"fda3f943a2cddc4c8b0f06d57db5c53a903a1d4b6fc62416339d109e8c482ef7"},"downloads":-1,"filename":"JSON-log-formatter-1.0.tar.gz","has_sig":false,"md5_digest":"5990ad871b63adfaa0d7e13f055c126f","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":5477,"upload_time":"2024-03-10T00:30:52","upload_time_iso_8601":"2024-03-10T00:30:52.331326Z","url":"https://files.pythonhosted.org/packages/88/bd/b9857d3104ef12110612ebcd3b629903dd32f952bd2c1fae1a77d657544b/JSON-log-formatter-1.0.tar.gz","yanked":false,"yanked_reason":null}],"vulnerabilities":[]}
