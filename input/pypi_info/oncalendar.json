{"info":{"author":"PÄ“teris Caune","author_email":"cuu508@monkeyseemonkeydo.lv","bugtrack_url":null,"classifiers":["Development Status :: 3 - Alpha","Intended Audience :: Developers","License :: OSI Approved :: BSD License","Operating System :: OS Independent","Programming Language :: Python","Programming Language :: Python :: 3","Topic :: Software Development :: Libraries :: Python Modules"],"description":"# oncalendar\n\n[![Tests](https://github.com/cuu508/oncalendar/actions/workflows/pytest.yml/badge.svg)](https://github.com/cuu508/oncalendar/actions/workflows/pytest.yml)\n\nA systemd [OnCalendar expression](https://www.man7.org/linux/man-pages/man7/systemd.time.7.html#CALENDAR_EVENTS)\nparser and evaluator. Requires Python 3.10+.\n\noncalendar is written for and being used in [Healthchecks](https://github.com/healthchecks/healthchecks/)\n(a scheduled task monitoring service).\n\nThis package provides three iterators:\n\n* **oncalendar.BaseIterator(expression: str, start: datime)**: supports expressions\n  without timezone (example: \"Mon, 12:34\"). Accepts both naive and timezone-aware\n  datetimes as the start time.\n* **oncalendar.TzIterator(expression: str, start: datetime)**: supports expressions\n  with and without timezone. (example: \"Mon, 12:34 Europe/Riga\"). Requires the start\n  datetime to be timezone-aware.\n* **oncalendar.OnCalendar(expressions:str, start: datetime)**: supports multiple\n  expressions with or without timezones, separated by newlines. Requires the start\n  datetime to be timezone-aware. Example:\n\n  ```\n  2020-01-01\n  12:34 Europe/Riga\n  ```\n\n## Installation\n\n```\npip install oncalendar\n```\n\n## Usage\n\n```python\nfrom datetime import datetime\nfrom oncalendar import BaseIterator\n\nit = BaseIterator(\"Mon, 12:34\", datetime.now())\nfor x in range(0, 10):\n    print(next(it))\n```\n\nProduces:\n\n```\n2023-12-11 12:34:00\n2023-12-18 12:34:00\n2023-12-25 12:34:00\n2024-01-01 12:34:00\n2024-01-08 12:34:00\n2024-01-15 12:34:00\n2024-01-22 12:34:00\n2024-01-29 12:34:00\n2024-02-05 12:34:00\n2024-02-12 12:34:00\n```\n\nIf oncalendar receives an invalid expression, it raises `oncalendar.OnCalendarError`\nexception:\n\n```python\nfrom datetime import datetime\nfrom oncalendar import BaseIterator\n\nBaseIterator(\"Mon, 123:456\", datetime.now())\n```\n\nProduces:\n\n```\noncalendar.OnCalendarError: Bad hour\n```\n\nIf oncalendar hits year 2200 while iterating, it stops iteration by raising\n`StopIteration`:\n\n```python\nfrom datetime import datetime\nfrom oncalendar import BaseIterator\n\n# 2199 is not leap year, and we stop at 2200\nprint(next(BaseIterator(\"2199-2-29\", datetime.now())))\n```\n\nProduces:\n\n```\nStopIteration\n```\n\n## Known Limitations\n\n* Does not support decimals in the second field.\n\n","description_content_type":"text/markdown","docs_url":null,"download_url":"","downloads":{"last_day":-1,"last_month":-1,"last_week":-1},"dynamic":null,"home_page":"https://github.com/cuu508/oncalendar","keywords":"systemd,oncalendar,calendar,schedule","license":"BSD","maintainer":"","maintainer_email":"","name":"oncalendar","package_url":"https://pypi.org/project/oncalendar/","platform":"any","project_url":"https://pypi.org/project/oncalendar/","project_urls":{"Changelog":"https://github.com/cuu508/oncalendar/blob/main/CHANGELOG.md","Homepage":"https://github.com/cuu508/oncalendar"},"provides_extra":null,"release_url":"https://pypi.org/project/oncalendar/1.1/","requires_dist":null,"requires_python":">= 3.10","summary":"Systemd OnCalendar expression parser and evaluator","version":"1.1","yanked":false,"yanked_reason":null},"last_serial":22320453,"releases":{"1.0":[{"comment_text":"","digests":{"blake2b_256":"aae203c5f4e39551345da114f96529cb8cf5834f900fd159b0e2e8523cfe582f","md5":"cd1e9509b90590c0345d303111b701c9","sha256":"572c39a4b2f2fbe8ef3d9b86401236e1cdcd1904e8d11c3427b165242aa72cef"},"downloads":-1,"filename":"oncalendar-1.0.tar.gz","has_sig":false,"md5_digest":"cd1e9509b90590c0345d303111b701c9","packagetype":"sdist","python_version":"source","requires_python":">= 3.10","size":8537,"upload_time":"2023-12-11T12:54:10","upload_time_iso_8601":"2023-12-11T12:54:10.348659Z","url":"https://files.pythonhosted.org/packages/aa/e2/03c5f4e39551345da114f96529cb8cf5834f900fd159b0e2e8523cfe582f/oncalendar-1.0.tar.gz","yanked":false,"yanked_reason":null}],"1.0a1":[{"comment_text":"","digests":{"blake2b_256":"ece26e814d34ed7654401edef2f79c32748f2c6ef1dc5239b0a6676f9d21b06c","md5":"f1dca7ea046461a351204141c6f83185","sha256":"1669e02371648a4f4623096dcbcd05fca2a3053527771774e30bd666c102602d"},"downloads":-1,"filename":"oncalendar-1.0a1.tar.gz","has_sig":false,"md5_digest":"f1dca7ea046461a351204141c6f83185","packagetype":"sdist","python_version":"source","requires_python":">= 3.10","size":6687,"upload_time":"2023-12-06T13:34:08","upload_time_iso_8601":"2023-12-06T13:34:08.979613Z","url":"https://files.pythonhosted.org/packages/ec/e2/6e814d34ed7654401edef2f79c32748f2c6ef1dc5239b0a6676f9d21b06c/oncalendar-1.0a1.tar.gz","yanked":false,"yanked_reason":null}],"1.0a2":[{"comment_text":"","digests":{"blake2b_256":"7b725da3a404aa316c28a58da74650562a60a0bf93ee79b81acdd94a0992dfac","md5":"352725ce6ed059356bc7b40a6f8e704d","sha256":"a58091f8054a7cf29c91ac540d2ba7df5742bb714c10c302bad6d4f104f0ea86"},"downloads":-1,"filename":"oncalendar-1.0a2.tar.gz","has_sig":false,"md5_digest":"352725ce6ed059356bc7b40a6f8e704d","packagetype":"sdist","python_version":"source","requires_python":">= 3.10","size":6872,"upload_time":"2023-12-06T13:55:13","upload_time_iso_8601":"2023-12-06T13:55:13.491033Z","url":"https://files.pythonhosted.org/packages/7b/72/5da3a404aa316c28a58da74650562a60a0bf93ee79b81acdd94a0992dfac/oncalendar-1.0a2.tar.gz","yanked":false,"yanked_reason":null}],"1.1":[{"comment_text":"","digests":{"blake2b_256":"d2160a632a870a4f6916c91e95a717391a9c0eaaa28a3d2402704551861b118a","md5":"c61394fcd6b8854ceeb5f0710c930226","sha256":"3122aa811786c313568a53745015729aa650e35054b689c08b6db4b1ee891287"},"downloads":-1,"filename":"oncalendar-1.1.tar.gz","has_sig":false,"md5_digest":"c61394fcd6b8854ceeb5f0710c930226","packagetype":"sdist","python_version":"source","requires_python":">= 3.10","size":8650,"upload_time":"2024-03-14T14:35:43","upload_time_iso_8601":"2024-03-14T14:35:43.164053Z","url":"https://files.pythonhosted.org/packages/d2/16/0a632a870a4f6916c91e95a717391a9c0eaaa28a3d2402704551861b118a/oncalendar-1.1.tar.gz","yanked":false,"yanked_reason":null}]},"urls":[{"comment_text":"","digests":{"blake2b_256":"d2160a632a870a4f6916c91e95a717391a9c0eaaa28a3d2402704551861b118a","md5":"c61394fcd6b8854ceeb5f0710c930226","sha256":"3122aa811786c313568a53745015729aa650e35054b689c08b6db4b1ee891287"},"downloads":-1,"filename":"oncalendar-1.1.tar.gz","has_sig":false,"md5_digest":"c61394fcd6b8854ceeb5f0710c930226","packagetype":"sdist","python_version":"source","requires_python":">= 3.10","size":8650,"upload_time":"2024-03-14T14:35:43","upload_time_iso_8601":"2024-03-14T14:35:43.164053Z","url":"https://files.pythonhosted.org/packages/d2/16/0a632a870a4f6916c91e95a717391a9c0eaaa28a3d2402704551861b118a/oncalendar-1.1.tar.gz","yanked":false,"yanked_reason":null}],"vulnerabilities":[]}
