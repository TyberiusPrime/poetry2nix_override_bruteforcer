{"info":{"author":"","author_email":"Hynek Schlawack <hs@ox.cx>","bugtrack_url":null,"classifiers":["Development Status :: 5 - Production/Stable","Framework :: AsyncIO","Framework :: Trio","License :: OSI Approved :: MIT License","Programming Language :: Python :: 3.10","Programming Language :: Python :: 3.11","Programming Language :: Python :: 3.12","Programming Language :: Python :: 3.8","Programming Language :: Python :: 3.9","Typing :: Typed"],"description":"# *stamina*: Production-grade Retries Made Easy\n\nTransient failures are common in distributed systems.\nTo make your systems resilient, you need to **retry** failed operations.\nBut bad retries can make things *much worse*.\n\n*stamina* is an opinionated wrapper around the great-but-unopinionated [Tenacity](https://tenacity.readthedocs.io/) package.\nIts goal is to be as **ergonomic** as possible while doing the **right thing by default** and minimizing the potential for **misuse**.\nIt is the result of years of copy-pasting the same configuration over and over again:\n\n- Retry only on certain exceptions.\n- Exponential **backoff** with **jitter** between retries.\n- Limit the number of retries **and** total time.\n- Automatic **async** support – including [Trio](https://trio.readthedocs.io/).\n- Preserve **type hints** of the decorated callable.\n- Flexible **instrumentation** with [Prometheus](https://github.com/prometheus/client_python), [*structlog*](https://www.structlog.org/), and standard library's `logging` support out-of-the-box.\n- Easy _global_ deactivation for testing.\n\nFor example:\n\n```python\nimport httpx\n\nimport stamina\n\n\n@stamina.retry(on=httpx.HTTPError, attempts=3)\ndef do_it(code: int) -> httpx.Response:\n    resp = httpx.get(f\"https://httpbin.org/status/{code}\")\n    resp.raise_for_status()\n\n    return resp\n```\n\n<!-- end docs index -->\n\n**Async** callables work use the same API and it's possible to retry **arbitrary blocks**, too.\nCheck out our [tutorial](https://stamina.hynek.me/en/latest/tutorial.html) for more examples!\n\n\n\n## Release Information\n\n### Added\n\n- `stamina.RetryingCaller` and `stamina.AsyncRetryingCaller` that allow even easier retries of single callables: `stamina.RetryingCaller(attempts=5).on(ValueError)(do_something, \"foo\", bar=42)` and `stamina.RetryingCaller(attempts=5)(ValueError, do_something, \"foo\", bar=42)` will call `do_something(\"foo\", bar=42)` and retry on `ValueError` up to 5 times.\n\n  `stamina.RetryingCaller` and `stamina.AsyncRetryingCaller` take the same arguments as `stamina.retry()`, except for `on` that can be bound separately.\n\n  [#56](https://github.com/hynek/stamina/pull/56)\n  [#57](https://github.com/hynek/stamina/pull/57)\n\n\n---\n\n[Full Changelog →](https://github.com/hynek/stamina/blob/main/CHANGELOG.md)\n\n\n## Credits\n\n*stamina* is written by [Hynek Schlawack](https://hynek.me/) and distributed under the terms of the [MIT](https://spdx.org/licenses/MIT.html) license.\n\nThe development is kindly supported by my employer [Variomedia AG](https://www.variomedia.de/) and all my amazing [GitHub Sponsors](https://github.com/sponsors/hynek).\n\nThis project would not be possible without the years of incredible work that went into [Tenacity](https://tenacity.readthedocs.io/).\n","description_content_type":"text/markdown","docs_url":null,"download_url":"","downloads":{"last_day":-1,"last_month":-1,"last_week":-1},"dynamic":null,"home_page":"","keywords":"reliability,retries,retry","license":"","maintainer":"","maintainer_email":"","name":"stamina","package_url":"https://pypi.org/project/stamina/","platform":null,"project_url":"https://pypi.org/project/stamina/","project_urls":{"Changelog":"https://github.com/hynek/stamina/blob/main/CHANGELOG.md","Documentation":"https://stamina.hynek.me/","Funding":"https://github.com/sponsors/hynek","Mastodon":"https://mastodon.social/@hynek","Source":"https://github.com/hynek/stamina","Twitter":"https://twitter.com/hynek"},"provides_extra":null,"release_url":"https://pypi.org/project/stamina/24.2.0/","requires_dist":["tenacity","typing-extensions; python_version < '3.10'","nox; extra == 'dev'","prometheus-client; extra == 'dev'","stamina[tests,typing]; extra == 'dev'","structlog; extra == 'dev'","tomli; (python_version < '3.11') and extra == 'dev'","trio; extra == 'dev'","furo; extra == 'docs'","myst-parser; extra == 'docs'","prometheus-client; extra == 'docs'","sphinx-copybutton; extra == 'docs'","sphinx-notfound-page; extra == 'docs'","sphinx>=7.2.2; extra == 'docs'","structlog; extra == 'docs'","anyio; extra == 'tests'","pytest; extra == 'tests'","mypy>=1.4; extra == 'typing'"],"requires_python":">=3.8","summary":"Production-grade retries made easy.","version":"24.2.0","yanked":false,"yanked_reason":null},"last_serial":21666557,"releases":{"22.1.0":[{"comment_text":"","digests":{"blake2b_256":"2c084a77500492bae6a2ecae3f32f28ef40e62984113f25386b4c9dd8856fc46","md5":"44950271fe6c41320bafdd55153514b2","sha256":"be328f6e76387cd22fa4b1fb2f61df5c3be37ec4badb188f1660152d78a22c16"},"downloads":-1,"filename":"stamina-22.1.0-py3-none-any.whl","has_sig":false,"md5_digest":"44950271fe6c41320bafdd55153514b2","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.8","size":4987,"upload_time":"2022-10-02T09:29:24","upload_time_iso_8601":"2022-10-02T09:29:24.043276Z","url":"https://files.pythonhosted.org/packages/2c/08/4a77500492bae6a2ecae3f32f28ef40e62984113f25386b4c9dd8856fc46/stamina-22.1.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"a163c83dafc42def74f59d87e53a71c13cad7423cd47bfdda7d3ea4911f1dc7d","md5":"ca3f6162f4c6b4aa139c775e62657bcd","sha256":"cca57885dbe6ae9385ad970dbe30ecece463d1a4b38c16781faec9f5fa8840f3"},"downloads":-1,"filename":"stamina-22.1.0.tar.gz","has_sig":false,"md5_digest":"ca3f6162f4c6b4aa139c775e62657bcd","packagetype":"sdist","python_version":"source","requires_python":">=3.8","size":11211,"upload_time":"2022-10-02T09:29:26","upload_time_iso_8601":"2022-10-02T09:29:26.333976Z","url":"https://files.pythonhosted.org/packages/a1/63/c83dafc42def74f59d87e53a71c13cad7423cd47bfdda7d3ea4911f1dc7d/stamina-22.1.0.tar.gz","yanked":false,"yanked_reason":null}],"22.2.0":[{"comment_text":"","digests":{"blake2b_256":"7cea04537875bbb02224212312d451585e1834a90c1bb75a84b93e62d9e32917","md5":"a05e0fceac85a2f65b07bd1b986e4bc9","sha256":"d51df54359e0176efd86a04a08e68a7a9cdee5245499313feb3061009d624a30"},"downloads":-1,"filename":"stamina-22.2.0-py3-none-any.whl","has_sig":false,"md5_digest":"a05e0fceac85a2f65b07bd1b986e4bc9","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.8","size":6748,"upload_time":"2022-10-06T15:17:35","upload_time_iso_8601":"2022-10-06T15:17:35.450741Z","url":"https://files.pythonhosted.org/packages/7c/ea/04537875bbb02224212312d451585e1834a90c1bb75a84b93e62d9e32917/stamina-22.2.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"9936be63373747885f8aff9220e71d0496456bae4d74bd29d9760c6895d5ef4e","md5":"6849a411ff93513a5117c632606ee59e","sha256":"77c370c82b6ced13617d42e1b93032fdb1435720db964e6d40f4b9f8746bfb7c"},"downloads":-1,"filename":"stamina-22.2.0.tar.gz","has_sig":false,"md5_digest":"6849a411ff93513a5117c632606ee59e","packagetype":"sdist","python_version":"source","requires_python":">=3.8","size":12566,"upload_time":"2022-10-06T15:17:37","upload_time_iso_8601":"2022-10-06T15:17:37.040085Z","url":"https://files.pythonhosted.org/packages/99/36/be63373747885f8aff9220e71d0496456bae4d74bd29d9760c6895d5ef4e/stamina-22.2.0.tar.gz","yanked":false,"yanked_reason":null}],"23.1.0":[{"comment_text":"","digests":{"blake2b_256":"d64af01f48d8d68c66a28119933559fc5b48f4facb110162d754643c1ad9ff5a","md5":"815a9a7421985d04ce0037da89e09303","sha256":"850de8c2c2469aabf42a4c02e7372eaa12c2eced78f2bfa34162b8676c2846e5"},"downloads":-1,"filename":"stamina-23.1.0-py3-none-any.whl","has_sig":false,"md5_digest":"815a9a7421985d04ce0037da89e09303","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.8","size":8420,"upload_time":"2023-07-04T09:20:56","upload_time_iso_8601":"2023-07-04T09:20:56.482213Z","url":"https://files.pythonhosted.org/packages/d6/4a/f01f48d8d68c66a28119933559fc5b48f4facb110162d754643c1ad9ff5a/stamina-23.1.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"a578590d11c8f97f24ef67983d8f931ac86455d71e144eba4433259b058b5a43","md5":"b6ac500d7d13cde61881cebd1e5fba27","sha256":"b16ce3d52d658aa75db813fc6a6661b770abfea915f72cda48e325f2a7854786"},"downloads":-1,"filename":"stamina-23.1.0.tar.gz","has_sig":false,"md5_digest":"b6ac500d7d13cde61881cebd1e5fba27","packagetype":"sdist","python_version":"source","requires_python":">=3.8","size":23246,"upload_time":"2023-07-04T09:20:58","upload_time_iso_8601":"2023-07-04T09:20:58.184736Z","url":"https://files.pythonhosted.org/packages/a5/78/590d11c8f97f24ef67983d8f931ac86455d71e144eba4433259b058b5a43/stamina-23.1.0.tar.gz","yanked":false,"yanked_reason":null}],"23.2.0":[{"comment_text":"","digests":{"blake2b_256":"43fa65c058f6e76dc99769ebb256ebc939582c9cc1f7d193511f4352e70f1d7e","md5":"8da46a3d38b6cd8faa3ab8fbcd171169","sha256":"31af7998497156af39e08d061a66c94643d037d90f4510ab8d03ece7526afb66"},"downloads":-1,"filename":"stamina-23.2.0-py3-none-any.whl","has_sig":false,"md5_digest":"8da46a3d38b6cd8faa3ab8fbcd171169","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.8","size":13687,"upload_time":"2023-10-30T07:20:44","upload_time_iso_8601":"2023-10-30T07:20:44.806472Z","url":"https://files.pythonhosted.org/packages/43/fa/65c058f6e76dc99769ebb256ebc939582c9cc1f7d193511f4352e70f1d7e/stamina-23.2.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"d96dffda37694992b0e5aad604c369cb01245bcc5e163823ec6ff97a1ae0496e","md5":"900a8fe475f2b2255eafd87889e19f12","sha256":"69e61a2d303d3fc2a54ac4c4c4b86da916bc301a2a03f4d2e2a5b3bb48e4f5cc"},"downloads":-1,"filename":"stamina-23.2.0.tar.gz","has_sig":false,"md5_digest":"900a8fe475f2b2255eafd87889e19f12","packagetype":"sdist","python_version":"source","requires_python":">=3.8","size":30234,"upload_time":"2023-10-30T07:20:45","upload_time_iso_8601":"2023-10-30T07:20:45.991689Z","url":"https://files.pythonhosted.org/packages/d9/6d/ffda37694992b0e5aad604c369cb01245bcc5e163823ec6ff97a1ae0496e/stamina-23.2.0.tar.gz","yanked":false,"yanked_reason":null}],"23.3.0":[{"comment_text":"","digests":{"blake2b_256":"438932b3202a2890c2f98dc30f589d25ae1400cd8b9f805f2657c957aea21113","md5":"5a20ed4cda73b2b40781b113d58c7570","sha256":"efd0a6918bbb2adc9268768f7f9009d04f41c4fb5888e0aca82590d757988923"},"downloads":-1,"filename":"stamina-23.3.0-py3-none-any.whl","has_sig":false,"md5_digest":"5a20ed4cda73b2b40781b113d58c7570","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.8","size":13533,"upload_time":"2023-12-05T14:25:41","upload_time_iso_8601":"2023-12-05T14:25:41.461420Z","url":"https://files.pythonhosted.org/packages/43/89/32b3202a2890c2f98dc30f589d25ae1400cd8b9f805f2657c957aea21113/stamina-23.3.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"fcac5b32581b731b719daa8ef309c309eeea727fec49b29302dc4200a6c7c81f","md5":"b5bf3b874e3048f2f2bf14a8a9c3dd3c","sha256":"48f1b3c39ea7e03775fdc0653f9f6ad183b401c84e0eeada12ff18accc712a61"},"downloads":-1,"filename":"stamina-23.3.0.tar.gz","has_sig":false,"md5_digest":"b5bf3b874e3048f2f2bf14a8a9c3dd3c","packagetype":"sdist","python_version":"source","requires_python":">=3.8","size":550618,"upload_time":"2023-12-05T14:25:58","upload_time_iso_8601":"2023-12-05T14:25:58.810300Z","url":"https://files.pythonhosted.org/packages/fc/ac/5b32581b731b719daa8ef309c309eeea727fec49b29302dc4200a6c7c81f/stamina-23.3.0.tar.gz","yanked":false,"yanked_reason":null}],"24.1.0":[{"comment_text":"","digests":{"blake2b_256":"2a5e3177fc2abd9ac9f3cf68756e15e8147e0f3d32549233024c8e0f0d45f838","md5":"17c7538ae521b58f2f44abf08239beb6","sha256":"0382013a3072c9db02f18240d36d6212e590643a45a8662cabc4584c5d1a8919"},"downloads":-1,"filename":"stamina-24.1.0-py3-none-any.whl","has_sig":false,"md5_digest":"17c7538ae521b58f2f44abf08239beb6","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.8","size":13555,"upload_time":"2024-01-03T15:35:01","upload_time_iso_8601":"2024-01-03T15:35:01.476626Z","url":"https://files.pythonhosted.org/packages/2a/5e/3177fc2abd9ac9f3cf68756e15e8147e0f3d32549233024c8e0f0d45f838/stamina-24.1.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"8bc85a622f6cd586b042ec0701f8b5ce1b1be714d216f9cdbb4b436dfc0d3162","md5":"0b06b2b368da59c7414d0f13f245a27a","sha256":"de14695610e4ea8da0624fc368607e95d923b25bfe45f4eaa10e226360bc9e02"},"downloads":-1,"filename":"stamina-24.1.0.tar.gz","has_sig":false,"md5_digest":"0b06b2b368da59c7414d0f13f245a27a","packagetype":"sdist","python_version":"source","requires_python":">=3.8","size":550756,"upload_time":"2024-01-03T15:35:04","upload_time_iso_8601":"2024-01-03T15:35:04.012679Z","url":"https://files.pythonhosted.org/packages/8b/c8/5a622f6cd586b042ec0701f8b5ce1b1be714d216f9cdbb4b436dfc0d3162/stamina-24.1.0.tar.gz","yanked":false,"yanked_reason":null}],"24.2.0":[{"comment_text":"","digests":{"blake2b_256":"c776ece8e6a0ef80306838d43b966f7792ab2319ed973c5b33696c189b6f35ee","md5":"1f90747bc3c7c29f4d6d979606002644","sha256":"4dbd8076d2cb4e228046833e4507af3406cc31b9b6046e8a6729ffde934b2526"},"downloads":-1,"filename":"stamina-24.2.0-py3-none-any.whl","has_sig":false,"md5_digest":"1f90747bc3c7c29f4d6d979606002644","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.8","size":14879,"upload_time":"2024-01-31T06:24:18","upload_time_iso_8601":"2024-01-31T06:24:18.947551Z","url":"https://files.pythonhosted.org/packages/c7/76/ece8e6a0ef80306838d43b966f7792ab2319ed973c5b33696c189b6f35ee/stamina-24.2.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"4907b1af55673b02c3651d2a0a57582513cc1f4a7a5433f551acfb1bff889fc5","md5":"0f8f79c1e9d27654aaf9df3cdbcd4820","sha256":"8db72126f2342e428b153cbcf837f8a90f89b783aa55e19d4a17193116ee35ee"},"downloads":-1,"filename":"stamina-24.2.0.tar.gz","has_sig":false,"md5_digest":"0f8f79c1e9d27654aaf9df3cdbcd4820","packagetype":"sdist","python_version":"source","requires_python":">=3.8","size":553055,"upload_time":"2024-01-31T06:24:21","upload_time_iso_8601":"2024-01-31T06:24:21.371082Z","url":"https://files.pythonhosted.org/packages/49/07/b1af55673b02c3651d2a0a57582513cc1f4a7a5433f551acfb1bff889fc5/stamina-24.2.0.tar.gz","yanked":false,"yanked_reason":null}]},"urls":[{"comment_text":"","digests":{"blake2b_256":"c776ece8e6a0ef80306838d43b966f7792ab2319ed973c5b33696c189b6f35ee","md5":"1f90747bc3c7c29f4d6d979606002644","sha256":"4dbd8076d2cb4e228046833e4507af3406cc31b9b6046e8a6729ffde934b2526"},"downloads":-1,"filename":"stamina-24.2.0-py3-none-any.whl","has_sig":false,"md5_digest":"1f90747bc3c7c29f4d6d979606002644","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.8","size":14879,"upload_time":"2024-01-31T06:24:18","upload_time_iso_8601":"2024-01-31T06:24:18.947551Z","url":"https://files.pythonhosted.org/packages/c7/76/ece8e6a0ef80306838d43b966f7792ab2319ed973c5b33696c189b6f35ee/stamina-24.2.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"4907b1af55673b02c3651d2a0a57582513cc1f4a7a5433f551acfb1bff889fc5","md5":"0f8f79c1e9d27654aaf9df3cdbcd4820","sha256":"8db72126f2342e428b153cbcf837f8a90f89b783aa55e19d4a17193116ee35ee"},"downloads":-1,"filename":"stamina-24.2.0.tar.gz","has_sig":false,"md5_digest":"0f8f79c1e9d27654aaf9df3cdbcd4820","packagetype":"sdist","python_version":"source","requires_python":">=3.8","size":553055,"upload_time":"2024-01-31T06:24:21","upload_time_iso_8601":"2024-01-31T06:24:21.371082Z","url":"https://files.pythonhosted.org/packages/49/07/b1af55673b02c3651d2a0a57582513cc1f4a7a5433f551acfb1bff889fc5/stamina-24.2.0.tar.gz","yanked":false,"yanked_reason":null}],"vulnerabilities":[]}
