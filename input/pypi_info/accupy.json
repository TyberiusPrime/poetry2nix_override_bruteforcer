{"info":{"author":"Nico Schlömer","author_email":"nico.schloemer@gmail.com","bugtrack_url":null,"classifiers":["Development Status :: 4 - Beta","License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)","Operating System :: OS Independent","Programming Language :: Python","Programming Language :: Python :: 3","Programming Language :: Python :: 3.7","Programming Language :: Python :: 3.8","Programming Language :: Python :: 3.9","Topic :: Scientific/Engineering","Topic :: Scientific/Engineering :: Mathematics"],"description":"<p align=\"center\">\n  <a href=\"https://github.com/nschloe/accupy\"><img alt=\"accupy\" src=\"https://nschloe.github.io/accupy/logo-with-text.svg\" width=\"40%\"></a>\n  <p align=\"center\">Accurate sums and (dot) products for Python.</p>\n</p>\n\n[![PyPi Version](https://img.shields.io/pypi/v/accupy.svg?style=flat-square)](https://pypi.org/project/accupy)\n[![PyPI pyversions](https://img.shields.io/pypi/pyversions/accupy.svg?style=flat-square)](https://pypi.org/pypi/accupy/)\n[![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.1185173.svg?style=flat-square)](https://doi.org/10.5281/zenodo.1185173)\n[![GitHub stars](https://img.shields.io/github/stars/nschloe/accupy.svg?style=flat-square&logo=github&label=Stars&logoColor=white)](https://github.com/nschloe/accupy)\n[![PyPi downloads](https://img.shields.io/pypi/dm/accupy.svg?style=flat-square)](https://pypistats.org/packages/accupy)\n\n[![Discord](https://img.shields.io/static/v1?logo=discord&label=chat&message=on%20discord&color=7289da&style=flat-square)](https://discord.gg/hnTJ5MRX2Y)\n\n[![gh-actions](https://img.shields.io/github/workflow/status/nschloe/accupy/ci?style=flat-square)](https://github.com/nschloe/accupy/actions?query=workflow%3Aci)\n[![codecov](https://img.shields.io/codecov/c/github/nschloe/accupy.svg?style=flat-square)](https://codecov.io/gh/nschloe/accupy)\n[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg?style=flat-square)](https://github.com/psf/black)\n\n### Sums\n\nSumming up values in a list can get tricky if the values are floating point\nnumbers; digit cancellation can occur and the result may come out wrong. A\nclassical example is the sum\n\n```\n1.0e16 + 1.0 - 1.0e16\n```\n\nThe actual result is `1.0`, but in double precision, this will result in `0.0`.\nWhile in this example the failure is quite obvious, it can get a lot more\ntricky than that. accupy provides\n\n```python\np, exact, cond = accupy.generate_ill_conditioned_sum(100, 1.0e20)\n```\n\nwhich, given a length and a target condition number, will produce an array of\nfloating point numbers that is hard to sum up.\n\nGiven one or two vectors, accupy can compute the condition of the sum or dot product via\n\n```python\naccupy.cond(x)\naccupy.cond(x, y)\n```\n\naccupy has the following methods for summation:\n\n- `accupy.kahan_sum(p)`: [Kahan\n  summation](https://en.wikipedia.org/wiki/Kahan_summation_algorithm)\n\n- `accupy.fsum(p)`: A vectorization wrapper around\n  [math.fsum](https://docs.python.org/3/library/math.html#math.fsum) (which\n  uses Shewchuck's algorithm [[1]](#references) (see also\n  [here](https://code.activestate.com/recipes/393090/))).\n\n- `accupy.ksum(p, K=2)`: Summation in K-fold precision (from [[2]](#references))\n\nAll summation methods sum the first dimension of a multidimensional NumPy array.\n\nLet's compare them.\n\n#### Accuracy comparison (sum)\n\n![](https://nschloe.github.io/accupy/accuracy-sum.svg)\n\nAs expected, the naive\n[sum](https://docs.python.org/3/library/functions.html#sum) performs very badly\nwith ill-conditioned sums; likewise for\n[`numpy.sum`](https://docs.scipy.org/doc/numpy/reference/generated/numpy.sum.html)\nwhich uses pairwise summation. Kahan summation not significantly better; [this,\ntoo, is\nexpected](https://en.wikipedia.org/wiki/Kahan_summation_algorithm#Accuracy).\n\nComputing the sum with 2-fold accuracy in `accupy.ksum` gives the correct\nresult if the condition is at most in the range of machine precision; further\nincreasing `K` helps with worse conditions.\n\nShewchuck's algorithm in `math.fsum` always gives the correct result to full\nfloating point precision.\n\n#### Runtime comparison (sum)\n\n![](https://nschloe.github.io/accupy/speed-comparison1.svg)\n\n![](https://nschloe.github.io/accupy/speed-comparison2.svg)\n\nWe compare more and more sums of fixed size (above) and larger and larger sums,\nbut a fixed number of them (below). In both cases, the least accurate method is\nthe fastest (`numpy.sum`), and the most accurate the slowest (`accupy.fsum`).\n\n### Dot products\n\naccupy has the following methods for dot products:\n\n- `accupy.fdot(p)`: A transformation of the dot product of length _n_ into a\n  sum of length _2n_, computed with\n  [math.fsum](https://docs.python.org/3/library/math.html#math.fsum)\n\n- `accupy.kdot(p, K=2)`: Dot product in K-fold precision (from\n  [[2]](#references))\n\nLet's compare them.\n\n#### Accuracy comparison (dot)\n\naccupy can construct ill-conditioned dot products with\n\n```python\nx, y, exact, cond = accupy.generate_ill_conditioned_dot_product(100, 1.0e20)\n```\n\nWith this, the accuracy of the different methods is compared.\n\n![](https://nschloe.github.io/accupy/accuracy-dot.svg)\n\nAs for sums, `numpy.dot` is the least accurate, followed by instanced of `kdot`.\n`fdot` is provably accurate up into the last digit\n\n#### Runtime comparison (dot)\n\n![](https://nschloe.github.io/accupy/speed-comparison-dot1.svg)\n![](https://nschloe.github.io/accupy/speed-comparison-dot2.svg)\n\nNumPy's `numpy.dot` is _much_ faster than all alternatives provided by accupy.\nThis is because the bookkeeping of truncation errors takes more steps, but\nmostly because of NumPy's highly optimized dot implementation.\n\n### References\n\n1. [Richard Shewchuk, _Adaptive Precision Floating-Point Arithmetic and Fast\n   Robust Geometric Predicates_, J. Discrete Comput. Geom. (1997), 18(305),\n   305–363](https://doi.org/10.1007/PL00009321)\n\n2. [Takeshi Ogita, Siegfried M. Rump, and Shin'ichi Oishi, _Accurate Sum and Dot\n   Product_, SIAM J. Sci. Comput. (2006), 26(6), 1955–1988 (34\n   pages)](https://doi.org/10.1137/030601818)\n\n### Dependencies\n\naccupy needs the C++ [Eigen\nlibrary](http://eigen.tuxfamily.org/index.php?title=Main_Page), provided in\nDebian/Ubuntu by\n[`libeigen3-dev`](https://packages.ubuntu.com/search?keywords=libeigen3-dev).\n\n### Installation\n\naccupy is [available from the Python Package Index](https://pypi.org/project/accupy/), so with\n\n```\npip install accupy\n```\n\nyou can install.\n\n### Testing\n\nTo run the tests, just check out this repository and type\n\n```\nMPLBACKEND=Agg pytest\n```\n\n\n","description_content_type":"text/markdown","docs_url":null,"download_url":"","downloads":{"last_day":-1,"last_month":-1,"last_week":-1},"dynamic":null,"home_page":"https://github.com/nschloe/accupy","keywords":"mathematics,physics,engineering,cgal,mesh,mesh generation","license":"GPL-3.0-or-later","maintainer":"","maintainer_email":"","name":"accupy","package_url":"https://pypi.org/project/accupy/","platform":"","project_url":"https://pypi.org/project/accupy/","project_urls":{"Code":"https://github.com/nschloe/accupy","Funding":"https://github.com/sponsors/nschloe","Homepage":"https://github.com/nschloe/accupy","Issues":"https://github.com/nschloe/accupy/issues"},"provides_extra":null,"release_url":"https://pypi.org/project/accupy/0.3.6/","requires_dist":null,"requires_python":">=3.7","summary":"Accurate sums and dot products for Python","version":"0.3.6","yanked":false,"yanked_reason":null},"last_serial":11378068,"releases":{"0.1.0":[{"comment_text":"","digests":{"blake2b_256":"137180186eba7cb1dee4e0bcb4b72cbeb17c6f07edcd64112d69bec363e07ae6","md5":"c30f237683b95b584152595d1f0502c7","sha256":"27c4d951114e037ad1c1e95b061219eced5af8f39063f5cbe8e2356ae63a4721"},"downloads":-1,"filename":"accupy-0.1.0.tar.gz","has_sig":false,"md5_digest":"c30f237683b95b584152595d1f0502c7","packagetype":"sdist","python_version":"source","requires_python":null,"size":8870,"upload_time":"2018-02-27T14:35:08","upload_time_iso_8601":"2018-02-27T14:35:08.730677Z","url":"https://files.pythonhosted.org/packages/13/71/80186eba7cb1dee4e0bcb4b72cbeb17c6f07edcd64112d69bec363e07ae6/accupy-0.1.0.tar.gz","yanked":false,"yanked_reason":null}],"0.1.1":[{"comment_text":"","digests":{"blake2b_256":"da62d3893dbacfe506c05a73917700ccdf224370543b4ec019cd8b870073277e","md5":"b8353521f1f41cecda40b4846c49a8d0","sha256":"164d04eef68b7d1f2d099204dbbb467bd08c90eda3dd9dccdd4cd604fe6a8b77"},"downloads":-1,"filename":"accupy-0.1.1.tar.gz","has_sig":false,"md5_digest":"b8353521f1f41cecda40b4846c49a8d0","packagetype":"sdist","python_version":"source","requires_python":null,"size":10314,"upload_time":"2018-03-02T12:13:25","upload_time_iso_8601":"2018-03-02T12:13:25.986162Z","url":"https://files.pythonhosted.org/packages/da/62/d3893dbacfe506c05a73917700ccdf224370543b4ec019cd8b870073277e/accupy-0.1.1.tar.gz","yanked":false,"yanked_reason":null}],"0.1.2":[{"comment_text":"","digests":{"blake2b_256":"9992f6b346408b765cc0a235dc93e602d7824429dcc10c83ec525d9861ca8de0","md5":"ab286df3f029d2660d578c9eb3c6f430","sha256":"a7cc42d5cb28398cb5fd0318411248fdde286859e69ed9a1850e945598c4b36a"},"downloads":-1,"filename":"accupy-0.1.2.tar.gz","has_sig":false,"md5_digest":"ab286df3f029d2660d578c9eb3c6f430","packagetype":"sdist","python_version":"source","requires_python":null,"size":9973,"upload_time":"2018-06-01T11:41:28","upload_time_iso_8601":"2018-06-01T11:41:28.899054Z","url":"https://files.pythonhosted.org/packages/99/92/f6b346408b765cc0a235dc93e602d7824429dcc10c83ec525d9861ca8de0/accupy-0.1.2.tar.gz","yanked":false,"yanked_reason":null}],"0.1.3":[{"comment_text":"","digests":{"blake2b_256":"4b998e4c2c605fbcb18eac8945f97c433d841d53213b5e4235e7b2c65648d5e3","md5":"b0bec849cfca84b2847a28ecc424580c","sha256":"629b5bc953f4d09f2c13174682486666ec6e4468bcd742d703bb4f6757ad97a5"},"downloads":-1,"filename":"accupy-0.1.3.tar.gz","has_sig":false,"md5_digest":"b0bec849cfca84b2847a28ecc424580c","packagetype":"sdist","python_version":"source","requires_python":null,"size":10155,"upload_time":"2018-06-06T15:39:19","upload_time_iso_8601":"2018-06-06T15:39:19.689776Z","url":"https://files.pythonhosted.org/packages/4b/99/8e4c2c605fbcb18eac8945f97c433d841d53213b5e4235e7b2c65648d5e3/accupy-0.1.3.tar.gz","yanked":false,"yanked_reason":null}],"0.1.4":[{"comment_text":"","digests":{"blake2b_256":"d841eb14105efa47a6709fac7bd67520547cb783c536cd1e445c9d23991c5513","md5":"5ef2dc2f46169dead7734f11d5817f46","sha256":"2a67f2a778b824fb24eb338fed8e0b61c1af93369d57ff8132f5d602d60f0543"},"downloads":-1,"filename":"accupy-0.1.4.tar.gz","has_sig":false,"md5_digest":"5ef2dc2f46169dead7734f11d5817f46","packagetype":"sdist","python_version":"source","requires_python":null,"size":10791,"upload_time":"2019-02-28T14:47:00","upload_time_iso_8601":"2019-02-28T14:47:00.138079Z","url":"https://files.pythonhosted.org/packages/d8/41/eb14105efa47a6709fac7bd67520547cb783c536cd1e445c9d23991c5513/accupy-0.1.4.tar.gz","yanked":false,"yanked_reason":null}],"0.2.0":[{"comment_text":"","digests":{"blake2b_256":"45ae280e7c042076f14edaeeceb06d0efae4fbe924509ed0b1346ff374753a15","md5":"9750f2d27aa288bc1595baa4e58caf9a","sha256":"e27ca7eed8a1bde2e6e040f8f3ee94a5d7522f42c4360756c9ec8931cf13ca98"},"downloads":-1,"filename":"accupy-0.2.0.tar.gz","has_sig":false,"md5_digest":"9750f2d27aa288bc1595baa4e58caf9a","packagetype":"sdist","python_version":"source","requires_python":">=3","size":10605,"upload_time":"2019-08-09T12:40:45","upload_time_iso_8601":"2019-08-09T12:40:45.060653Z","url":"https://files.pythonhosted.org/packages/45/ae/280e7c042076f14edaeeceb06d0efae4fbe924509ed0b1346ff374753a15/accupy-0.2.0.tar.gz","yanked":false,"yanked_reason":null}],"0.3.0":[{"comment_text":"","digests":{"blake2b_256":"cfb7a9234e00d75e10afacd1e4cf9469b6aa67af43b265cd4603b6162a1f703d","md5":"d2ad32e905c9dd5a03af62f0024071d6","sha256":"fd3895630236998ae05685f1ea9998beec256ef315b3c4c3323b563efbaaf5aa"},"downloads":-1,"filename":"accupy-0.3.0.tar.gz","has_sig":false,"md5_digest":"d2ad32e905c9dd5a03af62f0024071d6","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":11453,"upload_time":"2020-03-31T15:18:28","upload_time_iso_8601":"2020-03-31T15:18:28.596477Z","url":"https://files.pythonhosted.org/packages/cf/b7/a9234e00d75e10afacd1e4cf9469b6aa67af43b265cd4603b6162a1f703d/accupy-0.3.0.tar.gz","yanked":false,"yanked_reason":null}],"0.3.1":[{"comment_text":"","digests":{"blake2b_256":"8fa7d5f4f409c6bff82674ee73b4e6d52981bf5ef36ad73161f823b903347631","md5":"86d6ff238a74f5bb460017584f77c457","sha256":"b568de740e1cd137a96af1801b4d3d5f795e0f97be25c29957f39f004fbcdf9a"},"downloads":-1,"filename":"accupy-0.3.1.tar.gz","has_sig":false,"md5_digest":"86d6ff238a74f5bb460017584f77c457","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":12279,"upload_time":"2020-05-27T10:16:58","upload_time_iso_8601":"2020-05-27T10:16:58.744527Z","url":"https://files.pythonhosted.org/packages/8f/a7/d5f4f409c6bff82674ee73b4e6d52981bf5ef36ad73161f823b903347631/accupy-0.3.1.tar.gz","yanked":false,"yanked_reason":null}],"0.3.2":[{"comment_text":"","digests":{"blake2b_256":"5894dd149d9c2877fed70e8ea01c5b3e94d6cddf134cf85fe789c06844aee6c4","md5":"481353d86fe4b79b42c5b421e0a68c36","sha256":"be5c8c9ef2f83c9eeddac85463879957c87a93b257a6202a76ad6b43080b32f9"},"downloads":-1,"filename":"accupy-0.3.2.tar.gz","has_sig":false,"md5_digest":"481353d86fe4b79b42c5b421e0a68c36","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":11931,"upload_time":"2020-07-03T13:13:47","upload_time_iso_8601":"2020-07-03T13:13:47.994372Z","url":"https://files.pythonhosted.org/packages/58/94/dd149d9c2877fed70e8ea01c5b3e94d6cddf134cf85fe789c06844aee6c4/accupy-0.3.2.tar.gz","yanked":false,"yanked_reason":null}],"0.3.3":[{"comment_text":"","digests":{"blake2b_256":"fd4da53d686a3034711cb9e69ad5e68e996eedf3f2341847c5ccbf4579d42ffa","md5":"f7c8fff59762aa983b68c87e3e49efde","sha256":"a234c9897a683a6ade44f0bafa71196f122a61e3ebeacb5b813e7d139d54f3c7"},"downloads":-1,"filename":"accupy-0.3.3.tar.gz","has_sig":false,"md5_digest":"f7c8fff59762aa983b68c87e3e49efde","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":11951,"upload_time":"2020-09-29T09:11:10","upload_time_iso_8601":"2020-09-29T09:11:10.974965Z","url":"https://files.pythonhosted.org/packages/fd/4d/a53d686a3034711cb9e69ad5e68e996eedf3f2341847c5ccbf4579d42ffa/accupy-0.3.3.tar.gz","yanked":false,"yanked_reason":null}],"0.3.4":[{"comment_text":"","digests":{"blake2b_256":"318ea9110db6226db615930f888ab8e4d98a63b1772c181267295e36276add0c","md5":"b20b53103bcd3ae542d28b7bcfad7a65","sha256":"36506aca53154528997ac22aee6292c83da0f4850bb375c149512b5284bd4948"},"downloads":-1,"filename":"accupy-0.3.4.tar.gz","has_sig":false,"md5_digest":"b20b53103bcd3ae542d28b7bcfad7a65","packagetype":"sdist","python_version":"source","requires_python":">=3.6","size":23421,"upload_time":"2020-12-03T14:41:35","upload_time_iso_8601":"2020-12-03T14:41:35.837076Z","url":"https://files.pythonhosted.org/packages/31/8e/a9110db6226db615930f888ab8e4d98a63b1772c181267295e36276add0c/accupy-0.3.4.tar.gz","yanked":false,"yanked_reason":null}],"0.3.5":[{"comment_text":"","digests":{"blake2b_256":"6c593a7e26286427a1026e70a720527d210ad64c42ce701e3eea25a6001b17ec","md5":"7aa38b956ece45c1dd86f58355fea938","sha256":"7ffa70861ac547f3bd55affb9786c0f39a98284b9c5eb1d3f76f35d3bfe0d301"},"downloads":-1,"filename":"accupy-0.3.5.tar.gz","has_sig":false,"md5_digest":"7aa38b956ece45c1dd86f58355fea938","packagetype":"sdist","python_version":"source","requires_python":">=3.7","size":21173,"upload_time":"2021-09-06T14:49:09","upload_time_iso_8601":"2021-09-06T14:49:09.278249Z","url":"https://files.pythonhosted.org/packages/6c/59/3a7e26286427a1026e70a720527d210ad64c42ce701e3eea25a6001b17ec/accupy-0.3.5.tar.gz","yanked":false,"yanked_reason":null}],"0.3.6":[{"comment_text":"","digests":{"blake2b_256":"7c43be825e85cf2697450dc8c92da8e77644313c9e92b2eee28d1a072940f2a4","md5":"621a39c3bbe604100ecceaf0af27c45d","sha256":"ad408f2937c22a0628fa8a73856e813c825064a14240cbfd64337d2a45a756c3"},"downloads":-1,"filename":"accupy-0.3.6.tar.gz","has_sig":false,"md5_digest":"621a39c3bbe604100ecceaf0af27c45d","packagetype":"sdist","python_version":"source","requires_python":">=3.7","size":21322,"upload_time":"2021-09-06T15:54:14","upload_time_iso_8601":"2021-09-06T15:54:14.561449Z","url":"https://files.pythonhosted.org/packages/7c/43/be825e85cf2697450dc8c92da8e77644313c9e92b2eee28d1a072940f2a4/accupy-0.3.6.tar.gz","yanked":false,"yanked_reason":null}]},"urls":[{"comment_text":"","digests":{"blake2b_256":"7c43be825e85cf2697450dc8c92da8e77644313c9e92b2eee28d1a072940f2a4","md5":"621a39c3bbe604100ecceaf0af27c45d","sha256":"ad408f2937c22a0628fa8a73856e813c825064a14240cbfd64337d2a45a756c3"},"downloads":-1,"filename":"accupy-0.3.6.tar.gz","has_sig":false,"md5_digest":"621a39c3bbe604100ecceaf0af27c45d","packagetype":"sdist","python_version":"source","requires_python":">=3.7","size":21322,"upload_time":"2021-09-06T15:54:14","upload_time_iso_8601":"2021-09-06T15:54:14.561449Z","url":"https://files.pythonhosted.org/packages/7c/43/be825e85cf2697450dc8c92da8e77644313c9e92b2eee28d1a072940f2a4/accupy-0.3.6.tar.gz","yanked":false,"yanked_reason":null}],"vulnerabilities":[]}
